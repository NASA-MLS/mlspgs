head	1.5;
access;
symbols
	v5-02-NRT-19:1.5
	v6-00:1.5
	v5-02-NRT-18:1.5
	v5-02:1.5
	v5-01-NRT-17:1.5
	v5-01-NRT-16:1.5
	v5-01-NRT-15:1.5
	v5-01-NRT-14:1.5
	neuralnetworks-1-0:1.5.0.12
	cfm-single-freq-0-1:1.5.0.10
	v5-01:1.5
	v5-00:1.5
	v4-23-TA133:1.5.0.8
	mus-emls-1-70:1.5.0.6
	rel-1-0-englocks-work:1.5.0.4
	VUMLS1-00:1.5
	VPL1-00:1.5
	V4-22-NRT-08:1.5
	VAM1-00:1.5
	V4-21:1.5.0.2
	V4-13:1.5
	V4-12:1.5
	V4-11:1.5
	V4-10:1.5
	V3-43:1.1
	M4-00:1.5
	V3-41:1.1
	V3-40-PlusGM57:1.1.0.2
	V3-33:1.4
	V3-31:1.4
	V3-30-NRT-05:1.4
	cfm-01-00:1.4
	V3-30:1.1
	V3-20:1.1;
locks; strict;
comment	@# @;


1.5
date	2011.12.16.01.19.40;	author honghanh;	state Exp;
branches;
next	1.4;

1.4
date	2010.06.29.23.56.57;	author livesey;	state Exp;
branches;
next	1.3;

1.3
date	2010.05.24.18.35.57;	author honghanh;	state Exp;
branches;
next	1.2;

1.2
date	2010.03.26.15.33.03;	author honghanh;	state Exp;
branches;
next	1.1;

1.1
date	2009.12.21.23.28.26;	author honghanh;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Updated documentation for newer API centered on the use of agile vectors,
and removed the concept of vector template and chunk from public API.
@
text
@! Initializes CFM library and HDF5 library. Also parses the forward model
! configuration file.
subroutine CFM_MLSSetup_Compact (signalFileName, configFileName, &
ForwardModelConfigDatabase)
    ! The name of the signal database file
    character(len=*), intent(in) :: signalFileName
    ! The name of the forward model configuration file
    character(len=*), intent(in) :: configFileName
    ! Output: to store all ForwardModelConfig_T objects declared in
    ! the config file.
    ! This argument will be nullified inside this subroutine.
    type (ForwardModelConfig_T), pointer :: ForwardModelConfigDatabase(:)
end subroutine
@


1.4
log
@Getting ready for delivery
@
text
@d1 12
a12 47
! Read the signal file and populate the signal database
! Read the config file for forward model configuration(s),
! then put them in ForwardModelConfigDatabase.
! Reads L1BOA file and put it into the filedatabase.
! Uses the startTime, endTime and leapsec file to create a
! MLSChunk_T object that uses by other subroutines that read
! data from L1BOA.
! Construct the quantity template databases, which will include
! the quantities inside stateVectorExtra
! Create stateVectorExtra that is the second input to the forward
! model.
! Note: the use of a filedatabase, instead of just one MLSFile_T
! object to store L1BOA is for convenience when wrapping
! existing code in MLSPGS.
! CFM_MLSSetup is to be called only once before CFM_MLSCleanup is called.
subroutine CFM_MLSSetup (startTime, endTime, l1boa, leapsecFile, signalFileName, &
configFileName, filedatabase, qtyTemplates, chunk, ForwardModelConfigDatabase, &
stateVectorExtra)
   ! The start time of the data to be read in the format
   ! yyyy-doyThh:mm:ss.zzzz
   character(len=CCSDSlen), intent(in) :: startTime
   ! The stop time of the data to be read in the same format as startTime.
   character(len=CCSDSlen), intent(in) :: endTime
   ! The file name of L1BOA file.
   character(len=*), intent(in) :: l1boa
   ! The name of leapsec file
   character(len=*), intent(in) :: leapsecFile
   ! The name of the signal database file
   character(len=*), intent(in) :: signalFileName
   ! The name of the forward model configuration file
   character(len=*), intent(in) :: configFileName
   ! Output: An array of MLSFile_T object, representing open file(s),
   ! including L1BOA.
   type (MLSFile_T), dimension(:), pointer :: filedatabase
   ! The quantity template database, which is nullified by this
   ! subroutine.
   type(QuantityTemplate_T), dimension(:), pointer :: qtyTemplates
   ! Output: A data holder that holds the startTime and endTime
   ! in a way that can be understood by other subroutines.
   type (MLSChunk_T), intent(out) :: chunk
   ! Output: to store all ForwardModelConfig_T objects declared in
   ! the config file.
   ! This argument will be nullified inside this subroutine.
   type (ForwardModelConfig_T), pointer :: ForwardModelConfigDatabase(:)
   ! A vector filled with quantities that can be supplied by MLS
   ! and needed for the forward model.
   type (Vector_T), intent(out) :: stateVectorExtra
@


1.3
log
@v0.5 updated document
@
text
@d17 1
a17 1
configFileName, filedatabase, qtyTemplates, fakeChunk, ForwardModelConfigDatabase, &
d40 1
a40 1
   type (MLSChunk_T), intent(out) :: fakeChunk
@


1.2
log
@Update for v0.1 document
Add subroutines creating grids
Add ExplicitFillVectorQuantity subroutine
Add FGrid_T data structure
Modify mockup.f90
Removing creating quantity template example because it can be found in the mockup
@
text
@d1 3
a3 3
! Parse the L2CF given in standard input, and use it to read
! ForwardModelConfig(s), then put them in ForwardModelConfigDatabase.
! Also reads Spectroscopy, MLSSignals.
d5 7
a11 2
! Uses the startTime and endTime to create a MLSChunk_T object
! that uses by other subroutines that read data from L1BOA.
d16 3
a18 3
subroutine CFM_MLSSetup (startTime, endTime, l1boa, retVal, &
   filedatabase, fakeChunk, ForwardModelConfigDatabase)

d26 6
a31 2
   ! Return value: 0 if successful, non-zero if error(s) is encountered.
   integer, intent(out) :: retVal
d35 3
d41 2
a42 1
   ! Output: to store all ForwardModelConfig_T objects declared in L2CF.
d44 4
a47 1
   type (ForwardModelConfig_T), pointer, optional :: ForwardModelConfigDatabase(:)
@


1.1
log
@Replace description with code snippet in the procedure reference portion
@
text
@d1 12
a12 6
!Gets the ForwardModelConfig_T object, the filedatabase, and initializes
!internally used variables.
subroutine CFM_MLSSetup (error, fmConfig, filedatabase, fakeChunk)
   !This is set to 0 if this subroutine runs successfully, a non-zero
   !number otherwise.
   integer, intent(out) :: error
d14 18
a31 12
   !An object to be filled with forward model settings read
   !from a L2CF
   type (ForwardModelConfig_T) :: fmConfig

   !An one-dimensional array of MLSFile_T objects to be
   !filled in with necessary and already opened
   !spectroscopy file(s) and engineering data file(s).
   !This subroutine will allocate the array.
   type (MLSFile_T), dimension(:), pointer, optional :: filedatabase
   
   !This variable is used internally, to be passed to other subroutines.
   type (MLSChunk_T), intent(out), optional :: fakeChunk
@

