head	2.3;
access;
symbols
	v5-02-NRT-19:2.3
	v6-00:2.3
	v5-02-NRT-18:2.3
	v5-02:2.3
	v5-01-NRT-17:2.3
	v5-01-NRT-16:2.3
	v5-01-NRT-15:2.3
	v5-01-NRT-14:2.3
	neuralnetworks-1-0:2.3.0.12
	cfm-single-freq-0-1:2.3.0.10
	v5-01:2.3
	v5-00:2.3
	v4-23-TA133:2.3.0.8
	mus-emls-1-70:2.3.0.6
	rel-1-0-englocks-work:2.3.0.4
	VUMLS1-00:2.3
	VPL1-00:2.3
	V4-22-NRT-08:2.3
	VAM1-00:2.3
	V4-21:2.3.0.2;
locks; strict;
comment	@# @;


2.3
date	2015.02.05.21.41.14;	author vsnyder;	state Exp;
branches;
next	2.2;

2.2
date	2014.11.14.23.57.56;	author vsnyder;	state Exp;
branches;
next	2.1;

2.1
date	2014.11.04.01.25.45;	author vsnyder;	state Exp;
branches;
next	;


desc
@@


2.3
log
@Move dummy argument declarations from the include file.
@
text
@! Copyright 2005, by the California Institute of Technology. ALL
! RIGHTS RESERVED. United States Government Sponsorship acknowledged. Any
! commercial use must be negotiated with the Office of Technology Transfer
! at the California Institute of Technology.

! This software may be subject to U.S. export control laws. By accepting this
! software, the user agrees to comply with all applicable U.S. export laws and
! regulations. User has the responsibility to obtain export licenses, or other
! export authority as may be required before exporting such information to
! foreign countries or providing access to foreign persons.

module Rotation_m

  ! Rotate a three-dimensional vector through a specified angle about
  ! another three-dimensional vector.

  implicit none
  private

  public :: Rotate_3d

  interface Rotate_3d
    module procedure Rotate_3d_D, Rotate_3d_s
  end interface

  ! Kronecker delta
  integer, parameter :: D(3,3) = reshape( [ 1, 0, 0, &
                                          & 0, 1, 0, &
                                          & 0, 0, 1 ], [ 3, 3 ] )
  ! Index of element of About_Vector to multiply by Levi_Civita and sin(phi)
  ! The diagonal element is arbitrary (but it must be in 1..3) because that
  ! element of About_Vector is multiplied by zero.
  integer, parameter :: K(3,3) = reshape( [ 1, 3, 2, &
                                          & 3, 1, 1, &
                                          & 2, 1, 1  ], [ 3, 3 ] )
  ! (i,j,k(i,j)) element of the Levi_Civita symbol (others are zero)
  integer, parameter :: L(3,3) = reshape( [ 0, -1, 1, &
                                          & 1, 0, -1, &
                                          & -1, 1, 0  ], [ 3, 3 ] )

  !---------------------------- RCS Ident Info -------------------------------
  character (len=*), private, parameter :: ModuleName= &
    "$RCSfile: Rotation_m.f90,v $"
  private :: not_used_here 
  !---------------------------------------------------------------------------

contains ! ============= Public Procedures ==========================

  subroutine Rotate_3d_D ( Original_Vector, Phi, About_Vector, Rotated_Vector )

    ! Rotate Original_Vector by Phi radians about About_Vector giving
    ! Rotated_Vector.

    integer, parameter :: RK = kind(0.0d0)

    real(rk), intent(in) :: Original_Vector(3) ! in XYZ coordinates
    real(rk), intent(in) :: Phi                ! to rotate, Radians
    real(rk), intent(in) :: About_Vector(3)    ! in XYZ coordinates
                                               ! An unit vector parallel to it
                                               ! is constructed.
    real(rk), intent(out) :: Rotated_Vector(3) ! in XYZ coordinates

    include "Rotate_3d.f9h"

  end subroutine Rotate_3d_D

  subroutine Rotate_3d_S ( Original_Vector, Phi, About_Vector, Rotated_Vector )

    ! Rotate Original_Vector by Phi about About_Vector giving Rotated_Vector.

    integer, parameter :: RK = kind(0.0e0)

    real(rk), intent(in) :: Original_Vector(3) ! in XYZ coordinates
    real(rk), intent(in) :: Phi                ! to rotate, Radians
    real(rk), intent(in) :: About_Vector(3)    ! in XYZ coordinates
                                               ! An unit vector parallel to it
                                               ! is constructed.
    real(rk), intent(out) :: Rotated_Vector(3) ! in XYZ coordinates

    include "Rotate_3d.f9h"

  end subroutine Rotate_3d_S

!--------------------------- end bloc --------------------------------------
  logical function not_used_here()
  character (len=*), parameter :: IdParm = &
       "$Id: Rotation_m.f90,v 2.2 2014/11/14 23:57:56 vsnyder Exp $"
  character (len=len(idParm)) :: Id = idParm
    not_used_here = (id(1:1) == ModuleName(1:1))
    print *, Id ! .mod files sometimes change if PRINT is added
  end function not_used_here
!---------------------------------------------------------------------------

end module Rotation_m

! $Log: Rotation_m.f90,v $
! Revision 2.2  2014/11/14 23:57:56  vsnyder
! Correct some comments, add comments about arguments
!
! Revision 2.1  2014/11/04 01:25:45  vsnyder
! Initial commit
!
@


2.2
log
@Correct some comments, add comments about arguments
@
text
@d51 2
a52 1
    ! Rotate Original_Vector by Phi about About_Vector giving Rotated_Vector.
d56 6
a61 6
!   real(rk), intent(in) :: Original_Vector(3) ! in XYZ coordinates
!   real(rk), intent(in) :: Phi                ! to rotate, Radians
!   real(rk), intent(in) :: About_Vector(3)    ! in XYZ coordinates
!                                              ! An unit vector parallel to it
!                                              ! is constructed.
!   real(rk), intent(out) :: Rotated_Vector(3) ! in XYZ coordinates
d73 6
a78 6
!   real(rk), intent(in) :: Original_Vector(3) ! in XYZ coordinates
!   real(rk), intent(in) :: Phi                ! to rotate, Radians
!   real(rk), intent(in) :: About_Vector(3)    ! in XYZ coordinates
!                                              ! An unit vector parallel to it
!                                              ! is constructed.
!   real(rk), intent(out) :: Rotated_Vector(3) ! in XYZ coordinates
d87 1
a87 1
       "$Id: Rotation_m.f90,v 2.1 2014/11/04 01:25:45 vsnyder Exp $"
d97 3
@


2.1
log
@Initial commit
@
text
@a11 1

d43 1
a43 1
    "$RCSfile: ForwardModelWrappers.f90,v $"
d51 1
a51 1
    ! Rotate Original_Vector by Angle about About_Vector giving Rotated_Vector.
d54 8
d68 1
a68 1
    ! Rotate Original_Vector by Angle about About_Vector giving Rotated_Vector.
d71 8
d86 1
a86 1
       "$Id: ForwardModelWrappers.f90,v 2.76 2014/10/14 21:40:12 pwagner Exp $"
d96 3
@

