head	2.7;
access;
symbols
	V0_1:1.3;
locks; strict;
comment	@# @;


2.7
date	2000.11.15.01.53.23;	author vsnyder;	state dead;
branches;
next	2.6;

2.6
date	2000.10.09.23.30.21;	author vsnyder;	state Exp;
branches;
next	2.5;

2.5
date	2000.10.04.18.04.28;	author vsnyder;	state Exp;
branches;
next	2.4;

2.4
date	2000.10.03.01.11.33;	author vsnyder;	state Exp;
branches;
next	2.3;

2.3
date	2000.10.03.01.10.00;	author vsnyder;	state Exp;
branches;
next	2.2;

2.2
date	2000.10.03.00.54.44;	author vsnyder;	state Exp;
branches;
next	2.1;

2.1
date	2000.09.29.23.30.09;	author vsnyder;	state Exp;
branches;
next	2.0;

2.0
date	2000.09.05.17.41.49;	author dcuddy;	state Exp;
branches;
next	1.3;

1.3
date	2000.07.12.17.51.27;	author vsnyder;	state Exp;
branches;
next	1.1;

1.1
date	2000.07.06.01.43.12;	author vsnyder;	state Exp;
branches;
next	;


desc
@@


2.7
log
@Incorporated into mlspgs/lib
@
text
@# $Id: Makefile.inc,v 2.6 2000/10/09 23:30:21 vsnyder Exp $

# Notice the conspicuous absence of init_tables_module.o in the following
# list.  It is used by the test harness and in other applications of the
# library, but is not part of the library.

OBJLIB = declaration_table.o  error_handler.o expr_m.o        getCF_m.o \
         hash.o               io_stuff.o      lexer_core.o    lexer_m.o \
         machine.o            MLSCF.o         output_m.o      parser.o \
         string_table.o       symbol_table.o  symbol_types.o  table_dumper.o \
         table_generator.o    toggles_core.o  trace_m.o       tree.o \
         tree_checker.o       tree_types.o    units.o

all: test

declaration_table.o: $S/declaration_table.f90 init_tables_module.o \
                     machine.o output_m.o string_table.o toggles_core.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/declaration_table.f90

error_handler.o: $S/error_handler.f90 machine.o output_m.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/error_handler.f90

expr_m.o: $S/expr_m.f90 declaration_table.o init_tables_module.o \
          string_table.o toggles_core.o trace_m.o tree.o tree_types.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/expr_m.f90

getCF_m.o: $S/getCF_m.f90 declaration_table.o init_tables_module.o \
           lexer_core.o MLSCF.o output_m.o parser.o string_table.o \
           table_dumper.o table_generator.o toggles_core.o tree_checker.o \
           tree.o units.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/getCF_m.f90

hash.o: $S/hash.f90
	$(FC) -c $(FOPTS) $I$S $I$M $S/hash.f90

init_tables_module.o: $S/init_tables_module.f90 \
                      symbol_table.o symbol_types.o tree.o tree_types.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/init_tables_module.f90

io_stuff.o: $S/io_stuff.f90
	$(FC) -c $(FOPTS) $I$S $I$M $S/io_stuff.f90

lexer_core.o: $S/lexer_core.f90 string_table.o symbol_table.o toggles_core.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/lexer_core.f90

lexer_m.o: $S/lexer_m.f90 error_handler.o lexer_core.o output_m.o \
           string_table.o symbol_table.o symbol_types.o toggles_core.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/lexer_m.f90

MLSCF.o: $S/MLSCF.f90
	$(FC) -c $(FOPTS) $I$S $I$M $S/MLSCF.f90

output_m.o: $S/output_m.f90
	$(FC) -c $(FOPTS) $I$S $I$M $S/output_m.f90

parser.o: $S/parser.f90 lexer_core.o lexer_m.o symbol_types.o tree.o \
          tree_types.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/parser.f90

string_table.o: $S/string_table.f90 hash.o io_stuff.o machine.o output_m.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/string_table.f90

symbol_table.o: $S/symbol_table.f90 machine.o output_m.o string_table.o \
                symbol_types.o toggles_core.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/symbol_table.f90

symbol_types.o: $S/symbol_types.f90 string_table.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/symbol_types.f90

trace_m.o: $S/trace_m.f90 lexer_core.o output_m.o tree.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/trace_m.f90

tree_checker.o: $S/tree_checker.f90 declaration_table.o init_tables_module.o \
                lexer_core.o output_m.o string_table.o toggles_core.o \
                trace_m.o tree.o tree_types.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/tree_checker.f90

table_dumper.o: $S/table_dumper.f90 declaration_table.o init_tables_module.o \
                MLSCF.o output_m.o string_table.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/table_dumper.f90

table_generator.o: $S/table_generator.f90 declaration_table.o expr_m.o \
                   init_tables_module.o lexer_core.o MLSCF.o output_m.o \
                   string_table.o toggles_core.o trace_m.o tree.o tree_types.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/table_generator.f90

toggles_core.o: $S/toggles_core.f90
	$(FC) -c $(FOPTS) $I$S $I$M $S/toggles_core.f90

tree.o: $S/tree.f90 error_handler.o machine.o output_m.o string_table.o \
        symbol_table.o symbol_types.o toggles_core.o tree_types.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/tree.f90

tree_types.o: $S/tree_types.f90 string_table.o symbol_types.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/tree_types.f90

units.o: $S/units.f90 declaration_table.o init_tables_module.o tree.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/units.f90

# =====     The Real Targets     =========================================

libCF.a: $(OBJLIB)
	ar ru libCF.a $(OBJLIB)

clean:
	rm -f *.o *.a *.mod *.g90 $S/*.g90 test out.* Log[RSU]*

tar:
	rm -f parser.tgz
	tar hcvzf parser.tgz * --exclude \*.o --exclude \*.mod \
                               --exclude \*.g90 --exclude CVS \
                               --exclude \*.a --exclude test --exclude out.test

# =====     For test harness     =========================================

OBJS = init_tables_module.o test.o

test.o: $S/test.f90 getCF_m.o machine.o MLSCF.o output_m.o toggles_core.o
	$(FC) -c $(FOPTS) $I$S $I$M $S/test.f90

test: $(OBJS) libCF.a
	$(FC) $(LDOPTS) -o test $(OBJS) $M/SDPToolkit$(SDP).o \
              -L. -lCF -L$M -lmls

out.test: test $S/in.test
	./test -a $S/in.test out.test

# $Log: Makefile.inc,v $
# Revision 2.6  2000/10/09 23:30:21  vsnyder
# Must have changed something -- permissions weren't r--r--r--.
#
# Revision 2.5  2000/10/04 18:04:28  vsnyder
# Added search for libmls.a to creation of "test"
#
# Revision 2.4  2000/10/03 01:11:33  vsnyder
# OOPS, I forgot to add a dependency on output_m.o for test.o
#
# Revision 2.3  2000/10/03 01:10:00  vsnyder
# Change command line for "test" to put files as command line arguments
# instead of using redirection.
#
# Revision 2.2  2000/10/03 00:54:44  vsnyder
# Revised to account for changing getL2CF_m.f90 to getCF_m.f90
#
# Revision 2.1  2000/09/29 23:30:09  vsnyder
# Revised to account for getCF_m
#
# Revision 2.0  2000/09/05 17:41:49  dcuddy
# Change revision to 2.0
#
# Revision 1.4  2000/07/28 18:30:18  vsnyder
# Added a comment to make it clear that init_tables_module is not part
# of the library.
#
# Revision 1.3  2000/07/12 17:51:27  vsnyder
# Added some more stuff to 'clean:'
#
# Revision 1.2  2000/07/06 18:03:17  vsnyder
# Clean up -- remove unused options and library searches
#
# Revision 1.1  2000/07/06 01:43:12  vsnyder
# Initial check-in
#
@


2.6
log
@Must have changed something -- permissions weren't r--r--r--.
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.5 2000/10/04 18:04:28 vsnyder Exp $
d129 3
@


2.5
log
@Added search for libmls.a to creation of "test"
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.4 2000/10/03 01:11:33 vsnyder Exp $
d18 1
a18 1
	$(FC) -c $(FOPTS) $I$S $S/declaration_table.f90
d21 1
a21 1
	$(FC) -c $(FOPTS) $I$S $S/error_handler.f90
d25 1
a25 1
	$(FC) -c $(FOPTS) $I$S $S/expr_m.f90
d31 1
a31 1
	$(FC) -c $(FOPTS) $I$S $S/getCF_m.f90
d34 1
a34 1
	$(FC) -c $(FOPTS) $I$S $S/hash.f90
d38 1
a38 1
	$(FC) -c $(FOPTS) $I$S $S/init_tables_module.f90
d41 1
a41 1
	$(FC) -c $(FOPTS) $I$S $S/io_stuff.f90
d44 1
a44 1
	$(FC) -c $(FOPTS) $I$S $S/lexer_core.f90
d48 1
a48 1
	$(FC) -c $(FOPTS) $I$S $S/lexer_m.f90
d51 1
a51 1
	$(FC) -c $(FOPTS) $I$S $S/MLSCF.f90
d58 1
a58 1
	$(FC) -c $(FOPTS) $I$S $S/parser.f90
d61 1
a61 1
	$(FC) -c $(FOPTS) $I$S $S/string_table.f90
d65 1
a65 1
	$(FC) -c $(FOPTS) $I$S $S/symbol_table.f90
d68 1
a68 1
	$(FC) -c $(FOPTS) $I$S $S/symbol_types.f90
d71 1
a71 1
	$(FC) -c $(FOPTS) $I$S $S/trace_m.f90
d76 1
a76 1
	$(FC) -c $(FOPTS) $I$S $S/tree_checker.f90
d80 1
a80 1
	$(FC) -c $(FOPTS) $I$S $S/table_dumper.f90
d85 1
a85 1
	$(FC) -c $(FOPTS) $I$S $S/table_generator.f90
d88 1
a88 1
	$(FC) -c $(FOPTS) $I$S $S/toggles_core.f90
d92 1
a92 1
	$(FC) -c $(FOPTS) $I$S $S/tree.f90
d95 1
a95 1
	$(FC) -c $(FOPTS) $I$S $S/tree_types.f90
d98 1
a98 1
	$(FC) -c $(FOPTS) $I$S $S/units.f90
d119 1
a119 1
	$(FC) -c $(FOPTS) $I$S $S/test.f90
d122 2
a123 1
	$(FC) $(LDOPTS) -o test $(OBJS) -L. -lCF -L$M -lmls
d129 3
@


2.4
log
@OOPS, I forgot to add a dependency on output_m.o for test.o
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.3 2000/10/03 01:10:00 vsnyder Exp $
d54 1
a54 1
	$(FC) -c $(FOPTS) $I$S $S/output_m.f90
d122 1
a122 1
	$(FC) $(LDOPTS) -o test $(OBJS) -L. -lCF
d128 3
@


2.3
log
@Change command line for "test" to put files as command line arguments
instead of using redirection.
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.2 2000/10/03 00:54:44 vsnyder Exp $
d118 1
a118 1
test.o: $S/test.f90 getCF_m.o machine.o MLSCF.o toggles_core.o
d128 4
@


2.2
log
@Revised to account for changing getL2CF_m.f90 to getCF_m.f90
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.1 2000/09/29 23:30:09 vsnyder Exp $
d125 1
a125 1
	./test -a <$S/in.test >out.test
d128 3
@


2.1
log
@Revised to account for getL2CF_m
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.0 2000/09/05 17:41:49 dcuddy Exp $
d7 1
a7 1
OBJLIB = declaration_table.o  error_handler.o expr_m.o        getL2CF_m.o \
d27 5
a31 5
getL2CF_m.o: $S/getL2CF_m.f90 declaration_table.o init_tables_module.o \
             lexer_core.o MLSCF.o output_m.o parser.o string_table.o \
             table_dumper.o table_generator.o toggles_core.o tree_checker.o \
             tree.o units.o
	$(FC) -c $(FOPTS) $I$S $S/getL2CF_m.f90
d118 1
a118 1
test.o: $S/test.f90 getL2CF_m.o machine.o MLSCF.o toggles_core.o
d128 3
@


2.0
log
@Change revision to 2.0
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 1.4 2000/07/28 18:30:18 vsnyder Exp $
d7 5
a11 4
OBJLIB = declaration_table.o  error_handler.o expr_m.o        hash.o \
         io_stuff.o           lexer_core.o    lexer_m.o       machine.o \
         output_m.o           parser.o        string_table.o  symbol_table.o \
         symbol_types.o       toggles_core.o  trace_m.o       tree.o \
d27 6
d78 9
d106 1
a106 1
	rm -f *.o *.a *.mod *.g90 $S/*.g90 test out.test
d116 1
a116 11
OBJS = init_tables_module.o MLSCF.o table_dumper.o \
       table_generator.o test.o

table_dumper.o: $S/table_dumper.f90 declaration_table.o init_tables_module.o \
                MLSCF.o output_m.o string_table.o
	$(FC) -c $(FOPTS) $I$S $S/table_dumper.f90

table_generator.o: $S/table_generator.f90 declaration_table.o expr_m.o \
                   init_tables_module.o lexer_core.o MLSCF.o output_m.o \
                   string_table.o toggles_core.o trace_m.o tree.o tree_types.o
	$(FC) -c $(FOPTS) $I$S $S/table_generator.f90
d118 1
a118 4
test.o: $S/test.f90 declaration_table.o init_tables_module.o lexer_core.o \
        machine.o MLSCF.o parser.o string_table.o tree_checker.o \
        table_generator.o toggles_core.o tree.o units.o \
        table_dumper.o
d128 3
@


1.3
log
@Added some more stuff to 'clean:'
@
text
@d1 5
a5 1
# $Id: Makefile.inc,v 1.3 2000/07/12 17:51:27 vsnyder Exp $
d90 1
a90 1
	rm -f *.o *.a *.mod *.g90 $S/*.g90 test
d125 7
@


1.1
log
@Initial check-in
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 1.1 2000/07/06 01:43:12 vsnyder Exp $
d40 1
a40 1
	$(FC) -c $(FOPTS) $I$S $I$M $S/MLSCF.f90
d86 1
a86 1
	rm -f *.o *.mod test
d90 3
a92 1
	tar hcvzf parser.tgz * --exclude \*.o --exclude \*.mod --exclude test
d101 1
a101 1
	$(FC) -c $(FOPTS) $I$S $I$M $S/table_dumper.f90
d106 1
a106 1
	$(FC) -c $(FOPTS) $I$S $I$M $S/table_generator.f90
d112 1
a112 1
	$(FC) -c $(FOPTS) $I$S $I$M $S/test.f90
d115 1
a115 1
	$(FC) $(LDOPTS) -o test $(OBJS) -L. -lCF -L$(HOME)/mlspgs/SDPToolkit -lPGSTK
d121 6
@


