head	2.1;
access;
symbols
	V0_1:1.1;
locks; strict;
comment	@# @;


2.1
date	2000.10.11.00.02.16;	author vsnyder;	state dead;
branches;
next	2.0;

2.0
date	2000.09.05.17.41.51;	author dcuddy;	state Exp;
branches;
next	1.1;

1.1
date	2000.07.06.01.43.12;	author vsnyder;	state Exp;
branches;
next	;


desc
@@


2.1
log
@Moved to ~/mlspgs/lib
@
text
@module TRACE_M

  use LEXER_CORE, only: PRINT_SOURCE
  use OUTPUT_M, only: OUTPUT
  use TREE, only: DUMP_TREE_NODE, SOURCE_REF

  integer, public :: DEPTH   ! Depth in tree.  Used for trace printing.

!---------------------------- RCS Ident Info -------------------------------
  character (len=256), private :: Id = &
       "$Id: trace_m.f90,v 2.0 2000/09/05 17:41:51 dcuddy Exp $"
  character (len=*), private, parameter :: ModuleName= &
       "$RCSfile: trace_m.f90,v $"
!---------------------------------------------------------------------------

contains ! ====     Public Procedures     ==============================
! --------------------------------------------------  TRACE_BEGIN  -----
  subroutine TRACE_BEGIN ( NAME, ROOT )
  ! Print "ENTER NAME with ROOT = <node_id(root)>" with DEPTH dots in
  ! front.  Increment DEPTH.
    character(len=*), intent(in) :: NAME
    integer, intent(in) :: ROOT
    integer :: I              ! Loop inductor
    call output ( root, 4 ); call output ( ': ' )
    do i = 1, depth
      call output ( '.' )
    end do
    call output ( 'Enter ' ); call output ( name );
    call output ( ' with ' );
    call dump_tree_node ( root, 0 )
    call output ( ' at ' )
    call print_source ( source_ref(root), advance='yes' )
    depth = depth + 1
  end subroutine TRACE_BEGIN
! --------------------------------------------------    TRACE_END  -----
  subroutine TRACE_END ( NAME )
  ! Decrement DEPTH.  Print "EXIT NAME with DEPTH dots in front.
    character(len=*), intent(in) :: NAME
    integer :: I              ! Loop inductor
    depth = depth - 1
    call output ( '      ' )
    do i = 1, depth
      call output ( '.' )
    end do
    call output ( 'Exit ' ); call output ( name, advance='yes' );
  end subroutine TRACE_END
end module TRACE_M

! $Log: trace_m.f90,v $
! Revision 2.0  2000/09/05 17:41:51  dcuddy
! Change revision to 2.0
!
! Revision 1.1  2000/07/06 01:43:12  vsnyder
! Initial check-in
!
@


2.0
log
@Change revision to 2.0
@
text
@d11 1
a11 1
       "$Id: trace_m.f90,v 1.1 2000/07/06 01:43:12 vsnyder Exp $"
d50 3
@


1.1
log
@Initial check-in
@
text
@d11 1
a11 1
       "$Id: trace_m.f90,v 1.1 2000/07/06 01:43:12 vsnyder Exp $"
d50 3
@


