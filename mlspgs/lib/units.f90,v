head	2.43;
access;
symbols
	v5-02-NRT-19:2.43
	v6-00:2.43
	v5-02-NRT-18:2.43
	v5-02:2.43
	v5-01-NRT-17:2.43
	v5-01-NRT-16:2.43
	v5-01-NRT-15:2.43
	v5-01-NRT-14:2.43
	neuralnetworks-1-0:2.43.0.12
	cfm-single-freq-0-1:2.43.0.10
	v5-01:2.43
	v5-00:2.43
	v4-23-TA133:2.43.0.8
	mus-emls-1-70:2.43.0.6
	rel-1-0-englocks-work:2.43.0.4
	VUMLS1-00:2.43
	VPL1-00:2.43
	V4-22-NRT-08:2.43
	VAM1-00:2.43
	V4-21:2.43.0.2
	V4-13:2.43
	V4-12:2.43
	V4-11:2.43
	V4-10:2.43
	V3-43:2.35
	M4-00:2.37
	V3-41:2.35
	V3-40-PlusGM57:2.35.0.2
	V2-24-NRT-04:2.28
	V3-33:2.35
	V2-24:2.28
	V3-31:2.35
	V3-30-NRT-05:2.35
	cfm-01-00:2.35
	V3-30:2.35
	V3-20:2.35
	V3-10:2.33
	V2-23-NRT-02:2.28
	V2-23:2.28
	V2-22-NRT-01:2.28
	V2-22:2.28
	V2-21:2.28
	V2-20:2.28
	V2-11:2.28
	V2-10:2.28
	V2-00:2.28
	V1-51:2.25
	V1-50:2.25
	V1-45:2.25
	V1-44:2.25
	V1-43:2.24
	V1-42:2.22
	V1-41:2.22
	V1-32:2.22
	V1-40:2.22
	V1-31:2.22
	V1-30:2.22
	V1-13:2.20
	V1-12:2.20
	V1-11:2.20
	V1-10:2.20
	newfwm-feb03:2.20.0.2
	V1-04:2.13
	V1-03:2.13
	V1-02:2.13
	V1-00:2.12
	newfwm-sep01:2.10.0.2
	V0-7:2.10
	V0-5-Level2:2.8
	V0-5-SIPS:2.6;
locks; strict;
comment	@# @;


2.43
date	2014.04.22.00.05.34;	author vsnyder;	state Exp;
branches;
next	2.42;

2.42
date	2014.03.20.01.39.08;	author vsnyder;	state Exp;
branches;
next	2.41;

2.41
date	2014.01.11.01.41.02;	author vsnyder;	state Exp;
branches;
next	2.40;

2.40
date	2013.10.09.23.39.23;	author vsnyder;	state Exp;
branches;
next	2.39;

2.39
date	2013.09.19.23.25.28;	author vsnyder;	state Exp;
branches;
next	2.38;

2.38
date	2013.09.03.23.59.33;	author pwagner;	state Exp;
branches;
next	2.37;

2.37
date	2011.12.23.23.32.22;	author vsnyder;	state Exp;
branches;
next	2.36;

2.36
date	2011.11.11.00.30.59;	author vsnyder;	state Exp;
branches;
next	2.35;

2.35
date	2010.01.23.01.03.00;	author vsnyder;	state Exp;
branches;
next	2.34;

2.34
date	2009.09.19.00.35.17;	author vsnyder;	state Exp;
branches;
next	2.33;

2.33
date	2009.06.23.18.25.44;	author pwagner;	state Exp;
branches;
next	2.32;

2.32
date	2009.05.13.20.39.44;	author vsnyder;	state Exp;
branches;
next	2.31;

2.31
date	2008.09.30.22.22.06;	author vsnyder;	state Exp;
branches;
next	2.30;

2.30
date	2007.12.19.03.59.14;	author vsnyder;	state Exp;
branches;
next	2.29;

2.29
date	2007.12.06.20.37.57;	author vsnyder;	state Exp;
branches;
next	2.28;

2.28
date	2006.01.26.00.30.35;	author pwagner;	state Exp;
branches;
next	2.27;

2.27
date	2006.01.11.17.01.01;	author pwagner;	state Exp;
branches;
next	2.26;

2.26
date	2005.06.22.17.25.51;	author pwagner;	state Exp;
branches;
next	2.25;

2.25
date	2004.06.03.22.58.20;	author vsnyder;	state Exp;
branches;
next	2.24;

2.24
date	2004.03.26.01.31.24;	author vsnyder;	state Exp;
branches;
next	2.23;

2.23
date	2004.03.20.04.04.02;	author vsnyder;	state Exp;
branches;
next	2.22;

2.22
date	2003.08.18.18.14.54;	author livesey;	state Exp;
branches;
next	2.21;

2.21
date	2003.08.16.00.34.02;	author vsnyder;	state Exp;
branches;
next	2.20;

2.20
date	2003.01.26.04.41.25;	author livesey;	state Exp;
branches;
next	2.19;

2.19
date	2003.01.10.21.54.50;	author vsnyder;	state Exp;
branches;
next	2.18;

2.18
date	2003.01.07.23.43.44;	author livesey;	state Exp;
branches;
next	2.17;

2.17
date	2002.12.02.23.00.19;	author vsnyder;	state Exp;
branches;
next	2.16;

2.16
date	2002.10.08.00.09.15;	author pwagner;	state Exp;
branches;
next	2.15;

2.15
date	2002.09.27.00.27.52;	author vsnyder;	state Exp;
branches;
next	2.14;

2.14
date	2002.09.27.00.18.05;	author vsnyder;	state Exp;
branches;
next	2.13;

2.13
date	2002.04.10.17.42.59;	author pwagner;	state Exp;
branches;
next	2.12;

2.12
date	2001.12.06.23.45.34;	author livesey;	state Exp;
branches;
next	2.11;

2.11
date	2001.11.08.00.12.31;	author livesey;	state Exp;
branches;
next	2.10;

2.10
date	2001.07.30.23.28.38;	author pwagner;	state Exp;
branches;
next	2.9;

2.9
date	2001.07.10.23.47.01;	author jonathan;	state Exp;
branches;
next	2.8;

2.8
date	2001.04.26.02.35.38;	author vsnyder;	state Exp;
branches;
next	2.7;

2.7
date	2001.04.26.02.33.03;	author vsnyder;	state Exp;
branches;
next	2.6;

2.6
date	2001.04.09.20.59.35;	author vsnyder;	state Exp;
branches;
next	2.5;

2.5
date	2001.03.27.18.42.08;	author vsnyder;	state Exp;
branches;
next	2.4;

2.4
date	2001.03.21.23.28.43;	author livesey;	state Exp;
branches;
next	2.3;

2.3
date	2000.10.27.21.55.12;	author pwagner;	state Exp;
branches;
next	2.2;

2.2
date	2000.10.27.20.35.51;	author pwagner;	state dead;
branches;
next	2.1;

2.1
date	2000.10.11.18.23.40;	author vsnyder;	state Exp;
branches;
next	;


desc
@@


2.43
log
@Remove unused USE name
@
text
@! Copyright 2005, by the California Institute of Technology. ALL
! RIGHTS RESERVED. United States Government Sponsorship acknowledged. Any
! commercial use must be negotiated with the Office of Technology Transfer
! at the California Institute of Technology.

! This software may be subject to U.S. export control laws. By accepting this
! software, the user agrees to comply with all applicable U.S. export laws and
! regulations. User has the responsibility to obtain export licenses, or other
! export authority as may be required before exporting such information to
! foreign countries or providing access to foreign persons.

module UNITS

! Provide several units and unit conversion constants.
! Initialize the declaration table with the unit names and scales.

  implicit NONE
  public

!---------------------------- RCS Module Info ------------------------------
  character (len=*), private, parameter :: ModuleName= &
       "$RCSfile: units.f90,v $"
  private :: not_used_here 
!---------------------------------------------------------------------------

contains ! =====     Public procedures     =============================

! ---------------------------------------------------  INIT_UNITS  -----
  subroutine INIT_UNITS
    ! Put scale factors for units into the declaration table.

    ! If the scale factor is negative, it is subtracted instead of
    ! multiplied.  So far, this is used only to convert Celsius to
    ! Kelvin

    ! Call this procedure AFTER "init_tables_module%init_tables"
    ! We can't call it from there because there would be a circular
    ! dependence.  We can't put it there because a circular dependence
    ! between "init_tables_module" and "declaration_table" would
    ! result.

    use Constants, only: Rad2Deg
    use Intrinsic ! "units" type literals, beginning with L_,
                  ! Abstract physical quantities beginning with PHYQ_
    use Toggles, only: Con, Levels, Toggle
    use Trace_m, only: Trace_Begin, Trace_End

    integer :: Me = -1 ! String index for tracing

    call trace_begin ( me, 'INIT_UNITS', cond=toggle(con) .and. levels(con) > 1 )

    call declare_unit ( l_dl, 1.0d0, phyq_dimensionless )
    call declare_unit ( l_dimless, 1.0d0, phyq_dimensionless )
    call declare_unit ( l_dimensionless, 1.0d0, phyq_dimensionless )

    call declare_unit ( l_m, 1.0d0, phyq_length )
    call declare_unit ( l_meters, 1.0d0, phyq_length )
    call declare_unit ( l_km, 1000.0d0, phyq_length )

    call declare_unit ( l_us, 1.0d-6, phyq_time )
    call declare_unit ( l_s, 1.0d0, phyq_time )
    call declare_unit ( l_seconds, 1.0d0, phyq_time )
    call declare_unit ( l_minutes, 60.0d0, phyq_time )
    call declare_unit ( l_hours, 60.0d0 * 60.0d0, phyq_time )
    call declare_unit ( l_days, 60.0d0 * 60.0d0 * 24.0d0, phyq_time )

    call declare_unit ( l_mb, 1.0d0, phyq_pressure )
    call declare_unit ( l_hpa, 1.0d0, phyq_pressure )
    call declare_unit ( l_pa, 1.0d-2, phyq_pressure )

    call declare_unit ( l_k, 1.0d0, phyq_temperature )
    call declare_unit ( l_c, -273.15d0, phyq_temperature )

    call declare_unit ( l_vmr, 1.0d0, phyq_vmr )
    call declare_unit ( l_ppmv, 1.0d-6, phyq_vmr )
    call declare_unit ( l_ppbv, 1.0d-9, phyq_vmr )
    call declare_unit ( l_pptv, 1.0d-12, phyq_vmr )

    call declare_unit ( l_deg, 1.0d0, phyq_angle )
    call declare_unit ( l_degrees, 1.0d0, phyq_angle )
    call declare_unit ( l_radians, rad2deg, phyq_angle )
    call declare_unit ( l_rad, rad2deg, phyq_angle )
    call declare_unit ( l_orbits, 360.0d0, phyq_angle )

    call declare_unit ( l_maf, 1.0d0, phyq_mafs )
    call declare_unit ( l_mafs, 1.0d0, phyq_mafs )

    call declare_unit ( l_mif, 1.0d0, phyq_mifs )
    call declare_unit ( l_mifs, 1.0d0, phyq_mifs )

    call declare_unit ( l_mhz, 1.0d0, phyq_frequency )
    call declare_unit ( l_ghz, 1.0d3, phyq_frequency )
    call declare_unit ( l_thz, 1.0d6, phyq_frequency )
    call declare_unit ( l_khz, 1.0d-3, phyq_frequency )
    call declare_unit ( l_hz, 1.0d-6, phyq_frequency )

    call declare_unit ( l_ms, 1.0d0, phyq_velocity )
    call declare_unit ( l_kms, 1.0d3, phyq_velocity )

    call declare_unit ( l_zeta, 1.0d0, phyq_zeta )
    call declare_unit ( l_logp, 1.0d0, phyq_zeta )

!   this is = 1/meters 
    call declare_unit ( l_invm, 1.0d-3, phyq_extinction )
    call declare_unit ( l_invkm, 1.0d0, phyq_extinction )

!    call declare_unit ( l_extinction, 1.0d0, phyq_extinction )
!    call declare_unit ( l_extinctionV2, 1.0d0, phyq_extinction )
!    call declare_unit ( l_MIFextinction, 1.0d0, phyq_extinction )
!    call declare_unit ( l_MIFextinctionV2, 1.0d0, phyq_extinction )

!   this is = 1Pa/1000*1sec^2/1meter^2 = 1gm/meter^3
    call declare_unit ( l_icedensity, 1.0d0, phyq_icedensity )
    call declare_unit ( l_iwc, 1.0d0, phyq_icedensity )
    call declare_unit ( l_gm3, 1.0d0, phyq_icedensity )
    call declare_unit ( l_mgm3, 1.0d-3, phyq_icedensity )

!   this is 1DU ( = 2.687e20 molecules/m^2)
!   (but we will use molecules/cm^2 as the default)
    call declare_unit ( l_DobsonUnits, 2.687d16, phyq_colmabundance )
    call declare_unit ( l_DU, 2.687d16, phyq_colmabundance )
    call declare_unit ( l_molcm2, 1.0d0, phyq_colmabundance )

    call declare_unit ( l_pctrhi, 1.0d0, phyq_pctrhi )

    call declare_unit ( l_gauss, 1.0d0, phyq_gauss )

    call declare_unit ( l_profiles, 1.0d0, phyq_profiles )

    call trace_end ( 'INIT_UNITS', cond=toggle(con) .and. levels(con) > 1 )

  contains

    subroutine DECLARE_UNIT ( NAME, VALUE, PHYS_UNIT )
      use DECLARATION_TABLE, only: DECLARE, PHYS_UNIT_NAME, UNITS_NAME
      use Intrinsic, only: PHYQ_Indices
      integer, intent(in) :: NAME
      integer, intent(in) :: PHYS_UNIT
      double precision, intent(in) :: VALUE
      integer :: Me = -1 ! String index for tracing

      call trace_begin ( me, 'DECLARE_UNIT', cond=toggle(con) .and. levels(con) > 8 )
    ! Declare "name" to be a unit of abstract kind "phys_unit" (e.g. length)
    ! and a scale to that kind of "value"
      !              string             value  type        units
      call declare ( lit_indices(name), value, units_name, phys_unit, &
      !              tree
                     name )
      !              string                   value  type
      call declare ( phyq_indices(phys_unit), value, phys_unit_name, &
      !              units      tree
                     phys_unit, name )
      call trace_end ( 'DECLARE_UNIT', stringIndex=lit_indices(name), &
        & cond=toggle(con) .and. levels(con) > 8 )
    end subroutine DECLARE_UNIT

  end subroutine INIT_UNITS

! ----------------------------------------------------  Base_Unit  -----
  integer function Base_Unit ( PHYS_Unit )
    ! Get the base unit corresponding to a physical unit.
    ! The base unit is one with scale == 1.0.
    ! The result is the base unit's lit index, not it's string index.
    use Declaration_Table, only: Decls, Get_Decl, Phys_Unit_Name
    use Intrinsic, only: L_Dimensionless, PHYQ_Indices
    integer, intent(in) :: PHYS_Unit
    type(decls) :: Decl
    base_unit = l_dimensionless ! for want of a better default
    decl = get_decl ( phyq_indices(phys_unit), type=phys_unit_name, value=1.0d0 )
    if ( decl%type == phys_unit_name ) base_unit = decl%tree
  end function Base_Unit

!--------------------------- end bloc --------------------------------------
  logical function not_used_here()
  character (len=*), parameter :: IdParm = &
       "$Id: units.f90,v 2.42 2014/03/20 01:39:08 vsnyder Exp $"
  character (len=len(idParm)) :: Id = idParm
    not_used_here = (id(1:1) == ModuleName(1:1))
    print *, Id ! .mod files sometimes change if PRINT is added
  end function not_used_here
!---------------------------------------------------------------------------

end module UNITS

! $Log: units.f90,v $
! Revision 2.42  2014/03/20 01:39:08  vsnyder
! Add some tracing, use Value argument to search decl for base unit
!
! Revision 2.41  2014/01/11 01:41:02  vsnyder
! Decruftification
!
! Revision 2.40  2013/10/09 23:39:23  vsnyder
! Put lit index in 'tree' field of unit declaration
!
! Revision 2.39  2013/09/19 23:25:28  vsnyder
! Add Base_Units
!
! Revision 2.38  2013/09/03 23:59:33  pwagner
! Added us (microsecond)
!
! Revision 2.37  2011/12/23 23:32:22  vsnyder
! Add MIFExtinctionv2 (as a comment)
!
! Revision 2.36  2011/11/11 00:30:59  vsnyder
! Add comments about L_ExtinctionV2 and L_MIFextinction
!
! Revision 2.35  2010/01/23 01:03:00  vsnyder
! Remove LogIWC
!
! Revision 2.34  2009/09/19 00:35:17  vsnyder
! Add phyq_logIceDensity and LotIWC
!
! Revision 2.33  2009/06/23 18:25:44  pwagner
! Prevent Intel from optimizing ident string away
!
! Revision 2.32  2009/05/13 20:39:44  vsnyder
! Remove unused USE names
!
! Revision 2.31  2008/09/30 22:22:06  vsnyder
! Add iwc, gm3, mgm3
!
! Revision 2.30  2007/12/19 03:59:14  vsnyder
! Add a comment explaining why unused names are imported from Constants
!
! Revision 2.29  2007/12/06 20:37:57  vsnyder
! Move constants to Constants module to avoid sucking the parser infrastructure
! into off-line stuff that doesn't need it.
!
! Revision 2.28  2006/01/26 00:30:35  pwagner
! DU synonym for DobsonUnits
!
! Revision 2.27  2006/01/11 17:01:01  pwagner
! Made molcm2 default for colmabundance, DobsonUnits an alternate
!
! Revision 2.26  2005/06/22 17:25:51  pwagner
! Reworded Copyright statement, moved rcs id
!
! Revision 2.25  2004/06/03 22:58:20  vsnyder
! Add ms and kms units
!
! Revision 2.24  2004/03/26 01:31:24  vsnyder
! Add sqrtln2 constant
!
! Revision 2.23  2004/03/20 04:04:02  vsnyder
! Move Boltz and SpeedOfLight to physics
!
! Revision 2.22  2003/08/18 18:14:54  livesey
! Bug fix in declaration of iceDensity
!
! Revision 2.21  2003/08/16 00:34:02  vsnyder
! Use rad2deg instead of 180.0/Pi, push USE INTRINSIC down to procedure scope
!
! Revision 2.20  2003/01/26 04:41:25  livesey
! Added profiles
!
! Revision 2.19  2003/01/10 21:54:50  vsnyder
! Move SpeedOfLight from Geometry, put kinds on constants
!
! Revision 2.18  2003/01/07 23:43:44  livesey
! Added Gauss
!
! Revision 2.17  2002/12/02 23:00:19  vsnyder
! Add Sqrt Pi
!
! Revision 2.16  2002/10/08 00:09:15  pwagner
! Added idents to survive zealous Lahey optimizer
!
! Revision 2.15  2002/09/27 00:27:52  vsnyder
! Remove Omega -- it's properly in Geometry.
! Move some USEs from module scope to procedure scope.
!
! Revision 2.14  2002/09/27 00:18:05  vsnyder
! Move USEs from module scope to procedure scope, add Boltzman constant
!
! Revision 2.13  2002/04/10 17:42:59  pwagner
! Added pctrhi unit
!
! Revision 2.12  2001/12/06 23:45:34  livesey
! Moved Omega into here. Might be time to have a physical constants
! module somehere?
!
! Revision 2.11  2001/11/08 00:12:31  livesey
! Commented out extinction as it's now a molecule, and so not known yet.
! Perhaps we'll sort this out later.
!
! Revision 2.10  2001/07/30 23:28:38  pwagner
! Added columnAbundances scaffolding--needs fleshing out
!
! Revision 2.9  2001/07/10 23:47:01  jonathan
! added phyq_icedensity, paul/jonathan
!
! Revision 2.8  2001/04/26 02:35:38  vsnyder
! Fix up CVS stuff
!
! Revision 2.7  2001/04/26 02:33:03  vsnyder
! Moved *_indices declarations from init_tables_module to intrinsic
!
! Revision 2.6  2001/04/09 20:59:35  vsnyder
! Add C (for Celsius) unit and l_c name for it
!
! Revision 2.5  2001/03/27 18:42:08  vsnyder
! Insert mathematical constants
!
! Revision 2.4  2001/03/21 23:28:43  livesey
! Fixed bug in l_zeta and l_logp, had inappropriate scaling factors
!
! Revision 2.3  2000/10/27 21:55:12  pwagner
! Never should have left lib
!
! Revision 1.1  2000/10/27 20:30:35  pwagner
! moved to test_cf_parser
!
! Revision 2.1  2000/10/11 18:23:40  vsnyder
! Insert copyright notice
!
! Revision 2.0  2000/09/05 17:41:52  dcuddy
! Change revision to 2.0
!
! Revision 1.1  2000/07/06 01:43:12  vsnyder
! Initial check-in
!
@


2.42
log
@Add some tracing, use Value argument to search decl for base unit
@
text
@d164 1
a164 1
    use Declaration_Table, only: Decls, Get_Decl, Null_Decl, Phys_Unit_Name
d176 1
a176 1
       "$Id: units.f90,v 2.41 2014/01/11 01:41:02 vsnyder Exp $"
d186 3
@


2.41
log
@Decruftification
@
text
@d45 6
d130 2
d140 3
d148 1
a148 1
                     lit_indices(name) )
d151 4
a154 2
      !              units tree
                     name, lit_indices(name) )
d163 2
a164 1
    use Declaration_Table, only: Decls, Get_Decl, Phys_Unit_Name, Prior_Decl
d169 2
a170 8
    decl = get_decl ( phyq_indices(phys_unit), type=phys_unit_name )
    do while ( decl%type == phys_unit_name )
      if ( decl%value == 1.0d0 ) then
        base_unit = decl%units
        exit
      end if
      decl = prior_decl(decl)
    end do
d176 1
a176 1
       "$Id: units.f90,v 2.40 2013/10/09 23:39:23 vsnyder Exp $"
d186 3
@


2.40
log
@Put lit index in 'tree' field of unit declaration
@
text
@d151 1
a151 1
    use Intrinsic, only: L_Dimensionless, PHYQ_Indices, PHYQ_Invalid
d168 1
a168 1
       "$Id: units.f90,v 2.39 2013/09/19 23:25:28 vsnyder Exp $"
d178 3
@


2.39
log
@Add Base_Units
@
text
@a128 1
      use TREE, only: NULL_TREE
d137 1
a137 1
                     null_tree )
d141 1
a141 1
                     name, null_tree )
d168 1
a168 1
       "$Id: units.f90,v 2.38 2013/09/03 23:59:33 pwagner Exp $"
d178 3
@


2.38
log
@Added us (microsecond)
@
text
@a16 3
  use Constants, only: Rad2Deg
  use MLSKinds, only: R8

d27 1
d42 2
a43 1
    use INTRINSIC ! "units" type literals, beginning with L_,
d46 2
a48 2
    call declare_unit ( l_dimless, 1.0d0, phyq_dimensionless )
    call declare_unit ( l_dl, 1.0d0, phyq_dimensionless )
d125 1
d127 2
a128 1
      use DECLARATION_TABLE, only: DECLARE, UNITS_NAME
d135 1
d137 1
d139 4
d144 1
d146 20
d169 1
a169 1
       "$Id: units.f90,v 2.37 2011/12/23 23:32:22 vsnyder Exp $"
d179 3
@


2.37
log
@Add MIFExtinctionv2 (as a comment)
@
text
@d55 1
d141 1
a141 1
       "$Id: units.f90,v 2.36 2011/11/11 00:30:59 vsnyder Exp $"
d151 3
@


2.36
log
@Add comments about L_ExtinctionV2 and L_MIFextinction
@
text
@d104 1
d140 1
a140 1
       "$Id: units.f90,v 2.35 2010/01/23 01:03:00 vsnyder Exp $"
d150 3
@


2.35
log
@Remove LogIWC
@
text
@d102 2
d139 1
a139 1
       "$Id: units.f90,v 2.34 2009/09/19 00:35:17 vsnyder Exp $"
d149 3
@


2.34
log
@Add phyq_logIceDensity and LotIWC
@
text
@a107 1
    call declare_unit ( l_logIWC, 1.0d0, phyq_logIceDensity )
d137 1
a137 1
       "$Id: units.f90,v 2.33 2009/06/23 18:25:44 pwagner Exp $"
d147 3
@


2.33
log
@Prevent Intel from optimizing ident string away
@
text
@d25 1
a25 1
       "$RCSfile: $"
d108 1
d138 1
a138 1
       "$Id: read_apriori.f90 is it here $"
d148 3
@


2.32
log
@Remove unused USE names
@
text
@d25 1
a25 1
       "$RCSfile: units.f90,v $"
d134 1
a135 1
!---------------------------- RCS Ident Info -------------------------------
d137 2
a138 3
       "$Id: units.f90,v 2.31 2008/09/30 22:22:06 vsnyder Exp $"
  character (len=len(idParm)), save :: Id = idParm
!---------------------------------------------------------------------------
d140 1
a140 1
    print *, not_used_here ! .mod files sometimes change if PRINT is added
d142 1
d147 3
@


2.31
log
@Add iwc, gm3, mgm3
@
text
@d17 1
a17 4
  ! The names imported from Constants are imported here because they
  ! were at one time declared here, and several program units access
  ! them from here.
  use Constants, only: LN10, Pi, Deg2Rad, Rad2Deg, Sqrtln2, SqrtPi
d137 1
a137 1
       "$Id: units.f90,v 2.30 2007/12/19 03:59:14 vsnyder Exp $"
d147 3
@


2.30
log
@Add a comment explaining why unused names are imported from Constants
@
text
@d99 1
d103 1
d105 2
a106 1
!   this is = 1Pa*1000*1sec^2/1meter^4
d108 4
d119 1
d140 1
a140 1
       "$Id: units.f90,v 2.29 2007/12/06 20:37:57 vsnyder Exp $"
d144 1
d150 3
@


2.29
log
@Move constants to Constants module to avoid sucking the parser infrastructure
into off-line stuff that doesn't need it.
@
text
@d17 3
d132 1
a132 1
       "$Id: units.f90,v 2.28 2006/01/26 00:30:35 pwagner Exp $"
d141 4
@


2.28
log
@DU synonym for DobsonUnits
@
text
@d17 2
a18 1
  use MLSCommon, only: RP, R8
a22 7
  real(r8), parameter :: Ln10 = 2.302585092994045684017991454684364207601_r8
  real(r8), parameter :: Pi = 3.141592653589793238462643383279502884197_r8
  real(r8), parameter :: Deg2Rad = Pi/180.0_r8 ! Degrees-to-Radians
  real(r8), parameter :: Rad2Deg = 180.0_r8/Pi ! Radians-to-Degrees
  real(r8), parameter :: Sqrtln2 = 0.8325546111576977563531646448952010476306_r8
  real(r8), parameter :: SqrtPi = 1.772453850905516027298167483341145182798_r8

d129 1
a129 1
       "$Id: units.f90,v 2.27 2006/01/11 17:01:01 pwagner Exp $"
d138 3
@


2.27
log
@Made molcm2 default for colmabundance, DobsonUnits an alternate
@
text
@d111 1
d135 1
a135 1
       "$Id: units.f90,v 2.26 2005/06/22 17:25:51 pwagner Exp $"
d144 3
@


2.26
log
@Reworded Copyright statement, moved rcs id
@
text
@d31 1
a31 1
       "$RCSfile: $"
d109 3
a111 1
    call declare_unit ( l_DobsonUnits, 1.0d0, phyq_DobsonUnits )
d134 1
a134 1
       "$Id: $"
d143 3
@


2.25
log
@Add ms and kms units
@
text
@d1 10
a10 2
! Copyright (c) 1999, California Institute of Technology.  ALL RIGHTS RESERVED.
! U.S. Government Sponsorship under NASA Contract NAS7-1407 is acknowledged.
d29 3
a31 6
!---------------------------- RCS Ident Info -------------------------------
  character (len=*), private, parameter :: IdParm = &
       "$Id: units.f90,v 2.24 2004/03/26 01:31:24 vsnyder Exp $"
  character (len=len(idParm)), private :: Id = idParm
  character (len=*), private, parameter :: ModuleName = &
       "$RCSfile: units.f90,v $"
d130 5
d141 3
@


2.24
log
@Add sqrtln2 constant
@
text
@d23 1
a23 1
       "$Id: units.f90,v 2.23 2004/03/20 04:04:02 vsnyder Exp $"
d92 3
d131 3
@


2.23
log
@Move Boltz and SpeedOfLight to physics
@
text
@d18 1
d23 1
a23 1
       "$Id: units.f90,v 2.22 2003/08/18 18:14:54 livesey Exp $"
d128 3
@


2.22
log
@Bug fix in declaration of iceDensity
@
text
@a13 1
  real(rp), parameter :: Boltz = 660.988_rp ! = kln10/m  m^2/(K sec^2)
a17 1
  real(rp), parameter :: SpeedOfLight = 299792458.3_rp ! Meters/Second
d22 1
a22 1
       "$Id: units.f90,v 2.21 2003/08/16 00:34:02 vsnyder Exp $"
d127 3
@


2.21
log
@Use rad2deg instead of 180.0/Pi, push USE INTRINSIC down to procedure scope
@
text
@d24 1
a24 1
       "$Id: units.f90,v 2.20 2003/01/26 04:41:25 livesey Exp $"
d100 1
a100 1
    call declare_unit ( l_icedensity, 1.0d1, phyq_icedensity )
d129 3
@


2.20
log
@Added profiles
@
text
@a8 2
  use INTRINSIC ! "units" type literals, beginning with L_,
                ! Abstract physical quantities beginning with PHYQ_
d24 1
a24 1
       "$Id: units.f90,v 2.19 2003/01/10 21:54:50 vsnyder Exp $"
d46 3
d77 2
a78 2
    call declare_unit ( l_radians, 45.0d0 / atan(1.0d0), phyq_angle )
    call declare_unit ( l_rad, 45.0d0 / atan(1.0d0), phyq_angle )
d129 3
@


2.19
log
@Move SpeedOfLight from Geometry, put kinds on constants
@
text
@d26 1
a26 1
       "$Id: units.f90,v 2.18 2003/01/07 23:43:44 livesey Exp $"
d106 2
d128 3
@


2.18
log
@Added Gauss
@
text
@d17 2
a18 2
  real(r8), parameter :: Ln10 = 2.302585092994045684017991454684364207601
  real(r8), parameter :: Pi = 3.141592653589793238462643383279502884197
d21 2
a22 1
  real(r8), parameter :: SqrtPi = 1.772453850905516027298167483341145182798
d26 1
a26 1
       "$Id: units.f90,v 2.17 2002/12/02 23:00:19 vsnyder Exp $"
d126 3
@


2.17
log
@Add Sqrt Pi
@
text
@d25 1
a25 1
       "$Id: units.f90,v 2.16 2002/10/08 00:09:15 pwagner Exp $"
d103 1
d125 3
@


2.16
log
@Added idents to survive zealous Lahey optimizer
@
text
@d21 1
d25 1
a25 1
       "$Id: units.f90,v 2.15 2002/09/27 00:27:52 vsnyder Exp $"
d124 3
@


2.15
log
@Remove Omega -- it's properly in Geometry.
Move some USEs from module scope to procedure scope.
@
text
@d24 1
a24 1
       "$Id: units.f90,v 2.14 2002/09/27 00:18:05 vsnyder Exp $"
d28 1
d116 4
d123 4
@


2.14
log
@Move USEs from module scope to procedure scope, add Boltzman constant
@
text
@a20 1
  real(r8), parameter :: Omega = 7.292115D-5 ! Angular velocity of earth
d24 1
a24 1
       "$Id: units.f90,v 2.13 2002/04/10 17:42:59 pwagner Exp $"
d26 1
a26 1
  character (len=*), private, parameter :: ModuleName= &
d118 3
@


2.13
log
@Added pctrhi unit
@
text
@d5 1
d8 1
a8 1
  use DECLARATION_TABLE, only: DECLARE, UNITS_NAME
d11 1
a11 2
  use MLSCommon, only: R8
  use TREE, only: NULL_TREE
d16 1
a22 3
  private :: DECLARE, NULL_TREE, UNITS_NAME ! Get them from the source
  ! But it's OK to get PHYQ_... from here

d25 1
a25 1
       "$Id: units.f90,v 2.12 2001/12/06 23:45:34 livesey Exp $"
d105 2
d119 3
@


2.12
log
@Moved Omega into here. Might be time to have a physical constants
module somehere?
@
text
@d27 1
a27 1
       "$Id: units.f90,v 2.11 2001/11/08 00:12:31 livesey Exp $"
d103 2
d119 4
@


2.11
log
@Commented out extinction as it's now a molecule, and so not known yet.
Perhaps we'll sort this out later.
@
text
@d20 1
d27 1
a27 1
       "$Id: units.f90,v 2.10 2001/07/30 23:28:38 pwagner Exp $"
d117 4
@


2.10
log
@Added columnAbundances scaffolding--needs fleshing out
@
text
@d26 1
a26 1
       "$Id: units.f90,v 2.9 2001/07/10 23:47:01 jonathan Exp $"
d94 3
a96 1
    call declare_unit ( l_extinction, 1.0d0, phyq_extinction )
d116 3
@


2.9
log
@added phyq_icedensity, paul/jonathan
@
text
@d26 1
a26 1
       "$Id: units.f90,v 2.8 2001/04/26 02:35:38 vsnyder Exp $"
d97 2
d114 3
@


2.8
log
@Fix up CVS stuff
@
text
@d26 1
a26 1
       "$Id: $"
d29 1
a29 1
       "$RCSfile: $"
d93 5
d112 3
@


2.7
log
@Moved *_indices declarations from init_tables_module to intrinsic
@
text
@d25 3
a27 2
  character (len=256), private :: Id = &
       "$Id: units.f90,v 2.6 2001/04/09 20:59:35 vsnyder Exp $"
d29 1
a29 1
       "$RCSfile: units.f90,v $"
d107 3
@


2.6
log
@Add C (for Celsius) unit and l_c name for it
@
text
@d26 1
a26 1
       "$Id: units.f90,v 2.5 2001/03/27 18:42:08 vsnyder Exp $"
d33 1
a33 1
  subroutine INIT_UNITS ( LIT_INDICES )
a44 1
    integer, intent(in) :: LIT_INDICES(:)
d106 3
@


2.5
log
@Insert mathematical constants
@
text
@d26 1
a26 1
       "$Id: units.f90,v 2.4 2001/03/21 23:28:43 livesey Exp $"
d35 5
d66 1
d107 3
@


2.4
log
@Fixed bug in l_zeta and l_logp, had inappropriate scaling factors
@
text
@d5 1
d10 1
d15 6
d26 1
a26 1
       "$Id: units.f90,v 2.3 2000/10/27 21:55:12 pwagner Exp $"
d101 3
@


2.3
log
@Never should have left lib
@
text
@d18 1
a18 1
       "$Id: units.f90,v 1.1 2000/10/27 20:30:35 pwagner Exp $"
d77 2
a78 2
    call declare_unit ( l_zeta, 1.0d-3, phyq_zeta )
    call declare_unit ( l_logp, 1.0d-6, phyq_zeta )
d93 3
@


2.2
log
@moved to tests/test_cf_parser
@
text
@d18 1
a18 1
       "$Id: units.f90,v 2.1 2000/10/11 18:23:40 vsnyder Exp $"
d93 3
@


2.1
log
@Insert copyright notice
@
text
@d18 1
a18 1
       "$Id: units.f90,v 2.0 2000/09/05 17:41:52 dcuddy Exp $"
d93 3
@

