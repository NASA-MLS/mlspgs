head	2.22;
access;
symbols;
locks; strict;
comment	@# @;


2.22
date	2001.03.03.03.32.02;	author vsnyder;	state dead;
branches;
next	2.21;

2.21
date	2000.11.23.01.11.48;	author vsnyder;	state Exp;
branches;
next	2.20;

2.20
date	2000.11.15.01.45.19;	author vsnyder;	state Exp;
branches;
next	2.19;

2.19
date	2000.11.15.00.43.36;	author vsnyder;	state Exp;
branches;
next	2.18;

2.18
date	2000.10.19.18.41.17;	author vsnyder;	state Exp;
branches;
next	2.17;

2.17
date	2000.10.12.23.59.47;	author vsnyder;	state Exp;
branches;
next	2.16;

2.16
date	2000.10.12.22.34.41;	author vsnyder;	state Exp;
branches;
next	2.15;

2.15
date	2000.10.12.20.42.45;	author vsnyder;	state Exp;
branches;
next	2.14;

2.14
date	2000.10.12.20.24.08;	author vsnyder;	state Exp;
branches;
next	2.13;

2.13
date	2000.10.12.20.11.23;	author vsnyder;	state Exp;
branches;
next	2.12;

2.12
date	2000.10.12.00.30.57;	author vsnyder;	state Exp;
branches;
next	2.11;

2.11
date	2000.10.11.19.30.06;	author vsnyder;	state Exp;
branches;
next	2.10;

2.10
date	2000.10.10.23.11.56;	author vsnyder;	state Exp;
branches;
next	2.9;

2.9
date	2000.10.10.22.44.22;	author vsnyder;	state Exp;
branches;
next	2.8;

2.8
date	2000.10.09.23.31.49;	author vsnyder;	state Exp;
branches;
next	2.7;

2.7
date	2000.10.09.22.18.35;	author vsnyder;	state Exp;
branches;
next	2.6;

2.6
date	2000.10.05.01.35.34;	author vsnyder;	state Exp;
branches;
next	2.5;

2.5
date	2000.10.04.20.24.21;	author vsnyder;	state Exp;
branches;
next	2.4;

2.4
date	2000.10.04.18.03.06;	author vsnyder;	state Exp;
branches;
next	2.3;

2.3
date	2000.10.04.01.25.11;	author vsnyder;	state Exp;
branches;
next	2.2;

2.2
date	2000.09.29.18.05.32;	author vsnyder;	state Exp;
branches;
next	2.1;

2.1
date	2000.09.13.20.38.23;	author vsnyder;	state Exp;
branches;
next	2.0;

2.0
date	2000.09.05.17.41.06;	author dcuddy;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.02.01.51.18;	author vsnyder;	state Exp;
branches;
next	;


desc
@@


2.22
log
@Delete obsolete file
@
text
@# Copyright (c) 1999, California Institute of Technology.  ALL RIGHTS RESERVED.
# U.S. Government Sponsorship under NASA Contract NAS7-1407 is acknowledged.

# $Id: Makefile.inc,v 2.21 2000/11/23 01:11:48 vsnyder Exp $
# $RCSfile: Makefile.inc,v $

# Notice that SDPToolkitSubstitute is not in SRCS or OBJS. The intent is
# that you will put SDPToolkitSubstitute.o into your build explicitly.
# When libmls.a is searched, the entry points in SDPToolkit will already
# be satisfied, so SDPToolkit will not be included from libmls.a

# Notice that tree_checker and getCF are not in SRCS or OBJS.  This is
# because they need entities from init_tables_module, which specifies the
# type-checking requirements for the configuration file for a particular
# application.  These modules should be compiled by the Makefile for that
# application.

# Notice that declaration_table, error_handler, string_table, symbol_table
# and tree depend on machine.  Since machine is not here, but in the
# several next-lower-level platform-dependent directories, it may not be
# included in dependencies that are generated by an automatic tool that
# looks only in the current working directory.

# Notice that test_multiply.o and test_sparsify.o are not in SRCS or OBJS.
# These are test drivers that are not part of the library.  It's OK
# for them to be in the list of automatically-generated dependencies.

SRCS =	Allocate_Deallocate.f90 GriddedData.f90 HDF-EOS.f90 Hdf.f90 \
        L1BData.f90 L2GPData.f90 MLSCF.f90 MLSCommon.f90 \
        MLSMessageModule.f90 MLSNumerics.f90 MLSPCF.f90 \
        MLSSignalNomenclature.f90 MLSStrings.f90 MatrixModule_0.f90 \
        MatrixModule_1.f90 QuantityTemplates.f90 VectorsModule.f90 \
        dates_module.f90 declaration_table.f90 dump_0.f90 \
        error_handler.f90 expr_m.f90 gridded_data_module.f90 hash.f90 \
        heights_module.f90 intrinsic.f90 io_stuff.f90 lexer_core.f90 \
        lexer_m.f90 output_m.f90 parser.f90 string_table.f90 swapi.f90 \
        swapi_character_array.f90 swapi_character_scalar.f90 \
        swapi_double.f90 swapi_integer.f90 swapi_real.f90 \
        symbol_table.f90 symbol_types.f90 table_dumper.f90 \
        table_generator.f90 toggles_core.f90 trace_m.f90 tree.f90 \
        tree_types.f90 units.f90

OBJS =	Allocate_Deallocate.o GriddedData.o HDF-EOS.o Hdf.o L1BData.o \
        L2GPData.o MLSCF.o MLSCommon.o MLSMessageModule.o MLSNumerics.o \
        MLSPCF.o MLSSignalNomenclature.o MLSStrings.o MatrixModule_0.o \
        MatrixModule_1.o QuantityTemplates.o VectorsModule.o dates_module.o \
        declaration_table.o dump_0.o error_handler.o expr_m.o \
        gridded_data_module.o hash.o heights_module.o intrinsic.o \
        io_stuff.o lexer_core.o lexer_m.o output_m.o parser.o \
        string_table.o swapi.o swapi_character_array.o \
        swapi_character_scalar.o swapi_double.o swapi_integer.o \
        swapi_real.o symbol_table.o symbol_types.o table_dumper.o \
        table_generator.o toggles_core.o trace_m.o tree.o tree_types.o \
        units.o

all: libmls.a SDPToolkitSubstitute.a

libmls.a: $(OBJS) machine.o
	ar ru $@@ $?

SDPToolkitSubstitute.a: SDPToolkitSubstitute.o
	ar ru $@@ $?

clean:
	rm -f *.o *.mod *.a

.SUFFIXES: .o .f90

#.f90.o:
%.o: %.f90
	$(F90) $(FOPTS) -c $I$S $<

# The following files have special build requirements.  If you regenerate
# the dependencies using an automatic tool, make sure you re-create these
# actions:

L1BData.o: MLSCommon.o MLSMessageModule.o
	$(F90) $(FOPTS) -c $(DUSTY) $S/L1BData.f90
L2GPData.o: Allocate_Deallocate.o HDF-EOS.o Hdf.o MLSCommon.o \
	MLSMessageModule.o swapi.o addItemToDatabase.f9h
	$(F90) $(FOPTS) -c $I$S $(DUSTY) $S/L2GPData.f90


# SDPToolkit needs several "include" files that aren't here.  If you
# regenerate the dependencies using an automatic tool, make sure you
# re-create these:

T = $(TOOLKIT)/include
SDPToolkit.o: MLSCommon.o $T/PGS_CBP.f $T/PGS_CBP_6.f $T/PGS_CSC_4.f \
          $T/PGS_EPH_5.f $T/PGS_IO.f $T/PGS_IO_1.f $T/PGS_MEM_7.f \
	  $T/PGS_MET.f $T/PGS_MET_13.f $T/PGS_PC.f $T/PGS_PC_9.f \
	  $T/PGS_SMF.f $T/PGS_TD.f $T/PGS_TD_3.f
	$(F90) $(FOPTS) -c $I$T $S/SDPToolkit.f90

# None of the following dependencies are special, and none of them have
# special build requirements.  It should be OK to replace them with
# automatically generated ones:

Allocate_Deallocate.o: MLSMessageModule.o
GriddedData.o: MLSCommon.o MLSMessageModule.o MLSStrings.o
Hdf.o: MLSCommon.o
MLSMessageModule.o: SDPToolkit.o
MLSNumerics.o: MLSCommon.o MLSMessageModule.o MLSStrings.o
MLSSignalNomenclature.o: MLSCommon.o MLSMessageModule.o MLSStrings.o
MLSStrings.o: MLSMessageModule.o
MatrixModule_0.o: Allocate_Deallocate.o MLSCommon.o MLSMessageModule.o \
	dump_0.o output_m.o
MatrixModule_1.o: dump_0.o MatrixModule_0.o MLSCommon.o MLSMessageModule.o \
        output_m.o string_table.o VectorsModule.o
QuantityTemplates.o: Allocate_Deallocate.o MLSCommon.o MLSMessageModule.o \
        MLSSignalNomenclature.o addItemToDatabase.f9h
VectorsModule.o: Allocate_Deallocate.o MLSCommon.o MLSMessageModule.o \
        QuantityTemplates.o dump_0.o output_m.o string_table.o \
        addItemToDatabase.f9h
dates_module.o: MLSMessageModule.o MLSStrings.o
declaration_table.o: intrinsic.o machine.o output_m.o string_table.o \
	toggles_core.o
dump_0.o: output_m.o
error_handler.o: machine.o output_m.o
expr_m.o: declaration_table.o intrinsic.o string_table.o toggles_core.o \
	trace_m.o tree.o tree_types.o
getCF_m.o: MLSCF.o declaration_table.o lexer_core.o output_m.o parser.o \
	string_table.o table_dumper.o table_generator.o toggles_core.o tree.o \
	tree_checker.o units.o
gridded_data_module.o: MLSCommon.o MLSMessageModule.o MLSStrings.o \
	dates_module.o
heights_module.o: MLSCommon.o MLSMessageModule.o
intrinsic.o: symbol_table.o symbol_types.o
lexer_core.o: output_m.o string_table.o symbol_table.o toggles_core.o
lexer_m.o: error_handler.o lexer_core.o output_m.o string_table.o \
	symbol_table.o symbol_types.o toggles_core.o
output_m.o: MLSMessageModule.o
parser.o: lexer_core.o lexer_m.o output_m.o symbol_table.o symbol_types.o \
	toggles_core.o tree.o tree_types.o
string_table.o: hash.o io_stuff.o machine.o output_m.o
swapi.o: swapi_character_array.o swapi_character_scalar.o swapi_double.o \
	swapi_integer.o swapi_real.o
symbol_table.o: machine.o output_m.o string_table.o symbol_types.o \
	toggles_core.o
symbol_types.o: string_table.o
table_dumper.o: MLSCF.o declaration_table.o intrinsic.o output_m.o \
	string_table.o
table_generator.o: MLSCF.o declaration_table.o expr_m.o intrinsic.o \
	lexer_core.o output_m.o string_table.o toggles_core.o trace_m.o \
	tree.o tree_types.o
test_cholesky.o: MatrixModule_0.o MLSCommon.o machine.o
test_multiply.o: MatrixModule_0.o MLSCommon.o machine.o
test_sparsify.o: MatrixModule_0.o MLSCommon.o
trace_m.o: lexer_core.o output_m.o tree.o
tree.o: error_handler.o machine.o output_m.o string_table.o symbol_table.o \
	symbol_types.o toggles_core.o tree_types.o
tree_checker.o: declaration_table.o lexer_core.o output_m.o string_table.o \
	toggles_core.o trace_m.o tree.o tree_types.o
tree_types.o: string_table.o symbol_types.o
units.o: declaration_table.o intrinsic.o tree.o

# ========================================================================
# Test harnesses

test_cholesky: test_cholesky.o libmls.a
	$(F90) $(LDOPTS) -o test_cholesky test_cholesky.o -L. -lmls \
                 -L$(PGSTK) -lPGSTK \

test_multiply: test_multiply.o libmls.a
	$(F90) $(LDOPTS) -o test_multiply test_multiply.o -L. -lmls \
                 -L$(PGSTK) -lPGSTK \

test_sparsify: test_sparsify.o libmls.a
	$(F90) $(LDOPTS) -o test_sparsify test_sparsify.o -L. -lmls \
                 -L$(PGSTK) -lPGSTK \

# ========================================================================

# $Log: Makefile.inc,v $
# Revision 2.21  2000/11/23 01:11:48  vsnyder
# Add more dependencies for MatrixModule_1
#
# Revision 2.20  2000/11/15 01:45:19  vsnyder
# Added MatrixModule_1.*, removed test_* from "clean" target
#
# Revision 2.19  2000/11/15 00:43:36  vsnyder
# Removed an extraneous blank in "$M/ tree_checker.o"
#
# Revision 2.18  2000/10/19 18:41:17  vsnyder
# Add $I$S to inference rule, to search source directory for includes,
#
# Revision 2.17  2000/10/12 23:59:47  vsnyder
# Account for moving QuantityTemplates.f90 and VectorTemplates.f90 to mlspgs/lib
#
# Revision 2.16  2000/10/12 22:34:41  vsnyder
# Correct dependencies for test_multiply.o (again)
#
# Revision 2.15  2000/10/12 20:42:45  vsnyder
# Remove special action for dump_0.o
#
# Revision 2.14  2000/10/12 20:24:08  vsnyder
# Simplify default inference rule's action; remove explicit rules for
# test_multiply.o and test_sparsify.o
#
# Revision 2.13  2000/10/12 20:11:23  vsnyder
# Account for changes in accessibility of MatrixModule_0; remove test_multiply
# and test_sparsify from list of OBJS that contribute to libmls.a
#
# Revision 2.12  2000/10/12 00:30:57  vsnyder
# Add dependency of libmls.a on machine.o
#
# Revision 2.11  2000/10/11 19:30:06  vsnyder
# Incorporate lib/cf_parser into lib; insert copyright notice
#
# Revision 2.10  2000/10/10 23:11:56  vsnyder
# Correct dependencies for test_sparsify and test_multiply
#
# Revision 2.9  2000/10/10 22:44:22  vsnyder
# Correct actions for test_sparsify and test_multiply
#
# Revision 2.8  2000/10/09 23:31:49  vsnyder
# Must have changed something -- permissions weren't r--r--r--.
#
# Revision 2.7  2000/10/09 22:18:35  vsnyder
# Added machine.f90 to SRCS and machine.o to OBJS.  machine.f90 is in
# the next-layer-down of machine/compiler/OS directories.  If you
# automatically re-make the make file, ensure that machine is still here.
#
# Revision 2.6  2000/10/05 01:35:34  vsnyder
# Revised to account for moving test_multiply from mlspgs/l2.  Also,
# mlslib.a was deleted, because libraries are required to begin with
# lib, so we have libmls.a instead.
#
# Revision 2.5  2000/10/04 20:24:21  vsnyder
# Account for moving Allocate_Deallocate, MatrixModule_0 and test_sparsify
# from mlspgs/l2
#
# Revision 2.4  2000/10/04 18:03:06  vsnyder
# Added a rule to make libmls.a from mlslib.a
#
# Revision 2.3  2000/10/04 01:25:11  vsnyder
# Added an explicit action for L1BData, to specify the DUSTY option,
# because sfrdata is called with inconsistent argument lists.
#
# Revision 2.2  2000/09/29 18:05:32  vsnyder
# Add CVS comments.  Replace inference rule ".f90.o" with "%.o: %.f90"
# because the former sometimes didn't "make" out-of-date files, but the
# latter seems always to do so.
#
@


2.21
log
@Add more dependencies for MatrixModule_1
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.20 2000/11/15 01:45:19 vsnyder Exp $
d175 3
@


2.20
log
@Added MatrixModule_1.*, removed test_* from "clean" target
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.19 2000/11/15 00:43:36 vsnyder Exp $
d108 2
a109 1
MatrixModule_1.o: MLSMessageModule.o MatrixModule_0.o VectorsModule.o
d175 3
@


2.19
log
@Removed an extraneous blank in "$M/ tree_checker.o"
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.18 2000/10/19 18:41:17 vsnyder Exp $
d32 1
a32 1
        QuantityTemplates.f90 VectorsModule.f90 \
d46 1
a46 1
        QuantityTemplates.o VectorsModule.o dates_module.o \
d65 1
a65 1
	rm -f *.o *.mod *.a test_multiply test_sparsify
d174 3
@


2.18
log
@Add $I$S to inference rule, to search source directory for includes,
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.17 2000/10/12 23:59:47 vsnyder Exp $
d32 1
a32 1
        QuantityTemplates.f90 Units.f90 VectorsModule.f90 \
d46 1
a46 1
        QuantityTemplates.o Units.o VectorsModule.o dates_module.o \
a110 1
Units.o: MLSCommon.o MLSMessageModule.o MLSStrings.o
d174 3
@


2.17
log
@Account for moving QuantityTemplates.f90 and VectorTemplates.f90 to mlspgs/lib
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.16 2000/10/12 22:34:41 vsnyder Exp $
d71 1
a71 1
	$(F90) $(FOPTS) -c $<
d108 1
d146 1
d160 4
d175 3
@


2.16
log
@Correct dependencies for test_multiply.o (again)
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.15 2000/10/12 20:42:45 vsnyder Exp $
d32 2
a33 1
        Units.f90 dates_module.f90 declaration_table.f90 dump_0.f90 \
d40 2
a41 2
        table_generator.f90 \
        toggles_core.f90 trace_m.f90 tree.f90 tree_types.f90 units.f90
d46 9
a54 8
        Units.o dates_module.o declaration_table.o dump_0.o \
        error_handler.o expr_m.o gridded_data_module.o hash.o \
        heights_module.o intrinsic.o io_stuff.o lexer_core.o lexer_m.o \
        output_m.o parser.o string_table.o swapi.o \
        swapi_character_array.o swapi_character_scalar.o swapi_double.o \
        swapi_integer.o swapi_real.o symbol_table.o symbol_types.o \
        table_dumper.o table_generator.o \
        toggles_core.o trace_m.o tree.o tree_types.o units.o
d108 2
d111 3
d169 3
@


2.15
log
@Remove special action for dump_0.o
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.14 2000/10/12 20:24:08 vsnyder Exp $
d138 1
a138 1
test_multiply.o: MatrixModule_0.o MLSCommon.o
d162 3
@


2.14
log
@Simplify default inference rule's action; remove explicit rules for
test_multiply.o and test_sparsify.o
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.13 2000/10/12 20:11:23 vsnyder Exp $
d76 1
a76 1
	$(F90) $(FOPTS) -c $I$S $(DUSTY) $S/L1BData.f90
a79 2
dump_0.o: $(CF)/output_m.o
	$(F90) $(FOPTS) -c $I$S $S/dump_0.f90
d88 3
a90 3
        $T/PGS_EPH_5.f $T/PGS_IO.f $T/PGS_IO_1.f $T/PGS_MEM_7.f \
	$T/PGS_MET.f $T/PGS_MET_13.f $T/PGS_PC.f $T/PGS_PC_9.f \
	$T/PGS_SMF.f $T/PGS_TD.f $T/PGS_TD_3.f
d162 4
@


2.13
log
@Account for changes in accessibility of MatrixModule_0; remove test_multiply
and test_sparsify from list of OBJS that contribute to libmls.a
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.12 2000/10/12 00:30:57 vsnyder Exp $
d24 3
a26 2
# Notice that test_multiply and test_sparsify are not in SRCS or OBJS.
# These are test drivers that are not part of the library.
d63 1
a63 1
	rm -f *.o *.mod *.a
d69 1
a69 1
	$(F90) $(FOPTS) -c $I$S $I$(TOOLKIT) $<
d140 2
a141 2
test_multiply.o: MatrixModule_0.o
test_sparsify.o: MatrixModule_0.o
a152 3
test_multiply.o: $S/test_multiply.f90 MatrixModule_0.o MLSCommon.o
	$(F90) -c $(FOPTS) $S/test_multiply.f90

a156 3
test_sparsify.o: $S/test_sparsify.f90 MatrixModule_0.o MLSCommon.o
	$(F90) -c $(FOPTS) $S/test_sparsify.f90

d164 4
@


2.12
log
@Add dependency of libmls.a on machine.o
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.11 2000/10/11 19:30:06 vsnyder Exp $
d24 3
d38 1
a38 1
        table_generator.f90 test_multiply.f90 test_sparsify.f90 \
d50 1
a50 1
        table_dumper.o table_generator.o test_multiply.o test_sparsify.o \
d152 1
a152 1
test_multiply.o: $S/test_multiply.f90 MatrixModule_0.o
d159 1
a159 1
test_sparsify.o: $S/test_sparsify.f90 MatrixModule_0.o
d169 3
@


2.11
log
@Incorporate lib/cf_parser into lib; insert copyright notice
@
text
@d4 1
a4 1
# $Id: Makefile.inc,v 2.10 2000/10/10 23:11:56 vsnyder Exp $
d52 1
a52 1
libmls.a: $(OBJS)
d166 3
@


2.10
log
@Correct dependencies for test_sparsify and test_multiply
@
text
@d1 4
a4 1
# $Id: Makefile.inc,v 2.9 2000/10/10 22:44:22 vsnyder Exp $
d7 16
a22 5
# Notice that SDPToolkitSubstitute is not in SRCS or OBJS.
# The intent is that you will put SDPToolkitSubstitute.o into
# your build explicitly, so that when libmls.a is searched, the
# entry points in SDPToolkit will already be satisfied, so
# SDPToolkit will not be included from libmls.a
d25 7
a31 5
        L1BData.f90 L2GPData.f90 MLSCF.f90 MLSCommon.f90 MLSMessageModule.f90 \
        MLSNumerics.f90 MLSPCF.f90 MLSSignalNomenclature.f90 MLSStrings.f90 \
        MatrixModule_0.f90 SDPToolkit.f90 Units.f90 \
        VerticalCoordinate.f90 dates_module.f90 dump_0.f90 \
        gridded_data_module.f90 heights_module.f90 machine.f90 swapi.f90 \
d33 16
a48 10
        swapi_double.f90 swapi_integer.f90 swapi_real.f90

OBJS =	Allocate_Deallocate.o GriddedData.o HDF-EOS.o Hdf.o \
        L1BData.o L2GPData.o MLSCF.o MLSCommon.o MLSMessageModule.o \
        MLSNumerics.o MLSPCF.o MLSSignalNomenclature.o MLSStrings.o \
        MatrixModule_0.o SDPToolkit.o Units.o \
        VerticalCoordinate.o dates_module.o dump_0.o \
        gridded_data_module.o heights_module.o machine.o swapi.o \
        swapi_character_array.o swapi_character_scalar.o \
        swapi_double.o swapi_integer.o swapi_real.o
d65 1
a65 1
	$(F90) $(FOPTS) -c $I$S $I$(CF) $I$(TOOLKIT) $<
d72 4
a75 4
	$(F90) $(FOPTS) -c $I$S $I$(CF) $(DUSTY) $S/L1BData.f90
L2GPData.o: Allocate_Deallocate.o Hdf.o HDF-EOS.o MLSMessageModule.o \
          MLSCommon.o swapi.o
	$(F90) $(FOPTS) -c $I$S $I$(CF) $(DUSTY) $S/L2GPData.f90
d77 1
a77 1
	$(F90) $(FOPTS) -c $I$S $I$(CF) $S/dump_0.f90
a97 3
MatrixModule_0.o: Allocate_Deallocate.o dump_0.o \
          MLSCommon.o MLSMessageModule.o $(CF)/output_m.o
MLSCF.o: Hdf.o MLSCommon.o MLSMessageModule.o MLSStrings.o SDPToolkit.o
d102 2
a104 1
VerticalCoordinate.o: MLSCommon.o MLSStrings.o Units.o
d106 9
d118 8
d128 17
d150 1
a150 1
	$(F90) -c $(FOPTS) $I$(CF) $S/test_multiply.f90
d153 1
a153 1
	$(F90) $(LDOPTS) -o test_multiply test_multiply.o -L. -lmls -L$(CF) -lCF \
d157 1
a157 1
	$(F90) -c $(FOPTS) $I$(CF) $S/test_sparsify.f90
d160 1
a160 1
	$(F90) $(LDOPTS) -o test_sparsify test_sparsify.o -L. -lmls -L$(CF) -lCF \
d166 3
@


2.9
log
@Correct actions for test_sparsify and test_multiply
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.8 2000/10/09 23:31:49 vsnyder Exp $
d98 1
a98 1
test_multiply: test_multiply.o
d105 1
a105 1
test_sparsify: test_sparsify.o
d112 3
@


2.8
log
@Must have changed something -- permissions weren't r--r--r--.
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.7 2000/10/09 22:18:35 vsnyder Exp $
d100 1
a100 1
                 -L$(HOME)/mlspgs/SDPToolkit -lPGSTK \
d107 1
a107 1
                 -L$(HOME)/mlspgs/SDPToolkit -lPGSTK \
d112 3
@


2.7
log
@Added machine.f90 to SRCS and machine.o to OBJS.  machine.f90 is in
the next-layer-down of machine/compiler/OS directories.  If you
automatically re-make the make file, ensure that machine is still here.
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.6 2000/10/05 01:35:34 vsnyder Exp $
d11 1
a11 1
        L1BData.f90 MLSCF.f90 MLSCommon.f90 MLSMessageModule.f90 \
a18 1

d20 1
a20 1
        L1BData.o MLSCF.o MLSCommon.o MLSMessageModule.o \
d43 29
a71 1
	$(F90) $(F90FLAGS) -c $I$S $I$C $I$T $<
a75 2
L1BData.o: MLSCommon.o MLSMessageModule.o
	$(F90) $(F90FLAGS) -c $I$S $I$C $I$T $(DUSTY) $S/L1BData.f90
d77 1
a77 1
          MLSCommon.o MLSMessageModule.o $C/output_m.o
a82 4
SDPToolkit.o: MLSCommon.o $T/PGS_CBP.f $T/PGS_CBP_6.f $T/PGS_CSC_4.f \
        $T/PGS_EPH_5.f $T/PGS_IO.f $T/PGS_IO_1.f $T/PGS_MEM_7.f \
	$T/PGS_MET.f $T/PGS_MET_13.f $T/PGS_PC.f $T/PGS_PC_9.f \
	$T/PGS_SMF.f $T/PGS_TD.f $T/PGS_TD_3.f
a85 1
dump_0.o: 
d96 1
a96 1
	$(F90) -c $(FOPTS) $I$C $S/test_multiply.f90
d99 1
a99 1
	$(F90) -o test_multiply test_multiply.o -L. -lmls -L$C -lCF \
d103 1
a103 1
	$(F90) -c $(FOPTS) $I$C $S/test_sparsify.f90
d106 1
a106 1
	$(F90) -o test_sparsify test_sparsify.o -L. -lmls -L$C -lCF \
d112 5
@


2.6
log
@Revised to account for moving test_multiply from mlspgs/l2.  Also,
mlslib.a was deleted, because libraries are required to begin with
lib, so we have libmls.a instead.
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.5 2000/10/04 20:24:21 vsnyder Exp $
d15 1
a15 1
        gridded_data_module.f90 heights_module.f90 swapi.f90 \
d25 1
a25 1
        gridded_data_module.o heights_module.o swapi.o \
d92 5
@


2.5
log
@Account for moving Allocate_Deallocate, MatrixModule_0 and test_sparsify
from mlspgs/l2
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.4 2000/10/04 18:03:06 vsnyder Exp $
d4 24
a27 15
SRCS =	GriddedData.f90 HDF-EOS.f90 Hdf.f90 L1BData.f90 MLSCF.f90 \
	MLSCommon.f90 MLSMessageModule.f90 MLSNumerics.f90 MLSPCF.f90 \
	MLSSignalNomenclature.f90 MLSStrings.f90 SDPToolkit.f90 \
	SDPToolkitSubstitute.f90 Units.f90 VerticalCoordinate.f90 \
	dates_module.f90 dump_0.f90 gridded_data_module.f90 \
	heights_module.f90 swapi.f90 swapi_character_array.f90 \
	swapi_character_scalar.f90 swapi_double.f90 swapi_integer.f90 \
	swapi_real.f90

OBJS =	GriddedData.o HDF-EOS.o Hdf.o L1BData.o MLSCF.o MLSCommon.o \
	MLSMessageModule.o MLSNumerics.o MLSPCF.o MLSSignalNomenclature.o \
	MLSStrings.o SDPToolkit.o SDPToolkitSubstitute.o Units.o \
	VerticalCoordinate.o dates_module.o dump_0.o gridded_data_module.o \
	heights_module.o swapi.o swapi_character_array.o \
	swapi_character_scalar.o swapi_double.o swapi_integer.o swapi_real.o
d29 1
a29 1
LIBS =	
d31 1
a31 3
all: mlslib.a SDPToolkitSubstitute.a

mlslib.a: $(OBJS)
a33 3
libmls.a: mlslib.a
	ln -s -f mlslib.a libmls.a

d52 1
a52 1
          MLSCommon.o MLSMessageModule.o output_m.o
d74 7
a80 1
TSOBJS = dumper.o init_tables_module.o MatrixModule_0.o
d83 1
a83 1
	$(FC) -c $(FOPTS) $S/test_sparsify.f90
d85 2
a86 2
test_sparsify: test_sparsify.o $(TSOBJS)
	$(FC) -o test_sparsify $(TSOBJS) -L$C -lCF -L$M -lmls \
d89 2
d92 4
d97 1
a97 1
# Added a rule to make libmls.a from libmls.a
@


2.4
log
@Added a rule to make libmls.a from libmls.a
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.3 2000/10/04 01:25:11 vsnyder Exp $
d42 1
d47 2
d68 11
d80 3
@


2.3
log
@Added an explicit action for L1BData, to specify the DUSTY option,
because sfrdata is called with inconsistent argument lists.
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 2.2 2000/09/29 18:05:32 vsnyder Exp $
d27 3
d66 4
@


2.2
log
@Add CVS comments.  Replace inference rule ".f90.o" with "%.o: %.f90"
because the former sometimes didn't "make" out-of-date files, but the
latter seems always to do so.
@
text
@d1 2
a2 2
# $Id: $
# $RCSfile: $
d42 1
d62 6
a67 1
# $Log: $
@


2.1
log
@Support to compile dump_0.
@
text
@d1 2
a2 1
# $Id: Makefile.inc,v 2.1 2000/09/13 20:38:23 vsnyder Exp $
d4 15
a18 1
# This is a makefile for the utils section of the mlspgs suite
d20 1
a20 1
# Define some suffix rules
d22 1
a22 41
.SUFFIXES: .o .dbg.o .f90
.f90.o:
	${F90} ${F90FLAGS} ${MODULEPATHPREFIX}${MODULEPATH} -c \
               $(INCLUDE) $<

.f90.dbg.o:
	${F90} ${F90DEBUGFLAGS} ${MODULEPATHPREFIX}${MODULEPATH} \
		-c -o $*.dbg.o $(INCLUDE) $<

MLSPGS_LIB_PATH=.

#OBJS=	MLSStrings.o MLSSignalNomenclature.o VerticalCoordinate.o \
#	QuantityTemplates.o MLSNumerics.o MLSMessageModule.o \
#	SDPToolkit.o L2GPData.o L2AUXData.o VectorsModule.o Units.o \
#	VGrid.o HGrid.o L1BData.o ConstructQuantityTemplates.o\
#	ConstructVectorTemplates.o gridded_data_module.o \
#	dates_module.o MLSPCF.o MLSCF.o GriddedData.o HDF-EOS.o

OBJS=	dump_0.o GriddedData.o HDF-EOS.o L1BData.o L2AUXData.o L2GPData.o  \
        MLSCommon.o MLSMessageModule.o MLSNumerics.o MLSPCF.o \
        MLSSignalNomenclature.o MLSStrings.o SDPToolkit.o \
        swapi.o swapi_character_array.o swapi_character_scalar.o \
        swapi_double.o swapi_integer.o swapi_real.o Units.o \
        VerticalCoordinate.o dates_module.o gridded_data_module.o

OBJS_DEBUG= 	MLSStrings.dbg.o MLSSignalNomenclature.dbg.o \
		VerticalCoordinate.dbg.o QuantityTemplates.dbg.o \
		MLSNumerics.dbg.o MLSMessageModule.dbg.o \
		SDPToolkit.dbg.o L2GPData.dbg.o L2AUXData.dbg.o \
		VectorsModule.dbg.o Units.dbg.o VGrid.dbg.o \
		HGrid.dbg.o L1BData.o ConstructQuantityTemplates.dbg.o \
		ConstructVectorTemplates.dbg.o \
		gridded_data_module.dbg.o dates_module.dbg.o \
		MLSPCF.dbg.o MLSCF.dbg.o GriddedData.dbg.o

Libpath=.
MODULEPATH=.

all:	mlslib.a SDPToolkitSubstitute.a
debug:	mlslib.a_debug SDPToolkitSubstitute.a_debug
both: all debug
d24 1
a24 3
mlslib.a: ${OBJS}
	ar ru $@@ $?
mlslib.a_debug: ${OBJS_DEBUG}
a28 2
SDPToolkitSubstitute.a_debug: SDPToolkitSubstitute.dbg.o
	ar ru $@@ $?
d31 12
a42 21
	-rm -f *.o *.a *.mod *.M *.dbg.o *.a_debug
#
# Here we list manually dependencies present through USE statements.
# Later on we may try to adapt Hugh's script to deal with these
#

dump_0.o: $S/dump_0.f90 $C/output_m.o
	${F90} ${F90FLAGS} ${MODULEPATHPREFIX}${MODULEPATH} -c \
               $(INCLUDE) ${MODULEPATHPREFIX}$C $S/dump_0.f90
ConstructQuantityTemplates.o: MLSCommon.o MLSMessageModule.o \
	QuantityTemplates.o VGrid.o HGrid.o VerticalCoordinate.o \
	Units.o MLSSignalNomenclature.o MLSCF.o
ConstructVectorTemplates.o: MLSCommon.o MLSMessageModule.o VectorsModule.o \
	QuantityTemplates.o MLSCF.o
gridded_data_module.o: MLSCommon.o MLSStrings.o MLSMessageModule.o \
	dates_module.o
HGrid.o: MLSCommon.o MLSMessageModule.o MLSStrings.o L1BData.o MLSNumerics.o MLSCF.o
L1BData.o: Hdf.o SDPToolkit.o MLSCommon.o
	${F90} ${F90FLAGS} ${MODULEPATHPREFIX}${MODULEPATH} -c \
               $(INCLUDE) $(DUSTY) ../L1BData.f90
MLSCF.o: SDPToolkit.o Hdf.o MLSMessageModule.o
d44 2
a45 2
MLSNumerics.o: MLSMessageModule.o 
MLSSignalNomenclature.o: MLSStrings.o MLSMessageModule.o MLSCommon.o
d47 11
a57 2
QuantityTemplates.o: MLSSignalNomenclature.o MLSStrings.o MLSMessageModule.o \
	VGrid.o MLSCF.o
d59 1
a59 3
        swapi_integer.o swapi_real.o
VerticalCoordinate.o: MLSCommon.o MLSStrings.o Units.o
VGrid.o: MLSCommon.o VerticalCoordinate.o MLSStrings.o MLSCF.o
d61 1
a61 106
#
# Now the debug dependencies
#

ConstructQuantityTemplates.dbg.o: MLSCommon.dbg.o MLSMessageModule.dbg.o \
	QuantityTemplates.dbg.o VGrid.dbg.o HGrid.dbg.o VerticalCoordinate.dbg.o \
	Units.dbg.o MLSSignalNomenclature.dbg.o
ConstructVectorTemplates.dbg.o: MLSCommon.dbg.o MLSMessageModule.dbg.o VectorsModule.dbg.o \
	QuantityTemplates.dbg.o
gridded_data_module.dbg.o: MLSCommon.dbg.o MLSStrings.dbg.o MLSMessageModule.dbg.o \
	dates_module.dbg.o
HGrid.dbg.o: MLSCommon.dbg.o MLSMessageModule.dbg.o MLSStrings.dbg.o L1BData.dbg.o MLSNumerics.dbg.o
L1BData.dbg.o: Hdf.dbg.o SDPToolkit.dbg.o MLSCommon.dbg.o
MLSCF.dbg.o: SDPToolkit.dbg.o Hdf.dbg.o MLSMessageModule.dbg.o
MLSMessageModule.dbg.o: SDPToolkit.dbg.o
MLSNumerics.dbg.o: MLSMessageModule.dbg.o
MLSSignalNomenclature.dbg.o: MLSStrings.dbg.o MLSMessageModule.dbg.o MLSCommon.dbg.o
MLSStrings.dbg.o: MLSMessageModule.dbg.o
QuantityTemplates.dbg.o: MLSSignalNomenclature.dbg.o MLSStrings.dbg.o MLSMessageModule.dbg.o \
	VGrid.dbg.o 
VerticalCoordinate.dbg.o: MLSCommon.dbg.o MLSStrings.dbg.o Units.dbg.o
VGrid.dbg.o: MLSCommon.dbg.o VerticalCoordinate.dbg.o MLSStrings.dbg.o \
	 MLSCF.dbg.o

# $Log: Makefile.inc,v $
# Revision 2.1  2000/09/13 20:38:23  vsnyder
# Support to compile dump_0.
#
# Revision 2.0  2000/09/05 17:41:06  dcuddy
# Change revision to 2.0
#
# Revision 1.1  2000/09/02 01:51:18  vsnyder
# Initial entry
#
# Revision 1.26  2000/02/23 20:33:48  perun
# Changed .o_debug to .dbg.o for SunOS
#
# Revision 1.25  2000/02/05 00:30:14  livesey
# Removed temporary types stuff
#
# Revision 1.24  2000/01/21 21:00:52  livesey
# No longer necessary
#
# Revision 1.23  2000/01/11 22:51:34  livesey
# Dealt with ramifications of change from read_parse_l2cf to MLSCF
#
# Revision 1.22  2000/01/07 23:53:35  livesey
# Nearly integrated, just a few tweaks.
#
# Revision 1.21  1999/12/20 14:50:23  pumphrey
# Added gridded_data_module to Makefile
#
# Revision 1.20  1999/12/18 01:07:13  livesey
# Regular commit
#
# Revision 1.19  1999/12/17 00:59:32  livesey
# Nightly checkin
#
# Revision 1.18  1999/12/16 23:45:15  livesey
# Regular commit
#
# Revision 1.18  1999/12/16 23:45:15  livesey
# Regular commit
#
# Revision 1.17  1999/12/16 18:23:31  livesey
# Routine checkin
#
# Revision 1.16  1999/12/16 01:27:45  livesey
# Routine checkin
#
# Revision 1.15  1999/12/14 22:56:02  livesey
# Regular commit
#
# Revision 1.14  1999/12/04 00:27:43  livesey
# Regular end of day checkin
#
# Revision 1.13  1999/12/03 00:14:18  livesey
# Nightly checkin
#
# Revision 1.12  1999/12/02 01:56:11  livesey
# Changed filenames to mixed case, redid makefiles.
#
# Revision 1.11  1999/12/01 23:14:06  livesey
# Renamed files to upper/lower case
#
# Revision 1.10  1999/12/01 23:01:39  livesey
# Before renaming things to upper/lower case
#
# Revision 1.9  1999/12/01 05:03:55  livesey
# Nightly checkin
#
# Revision 1.8  1999/11/30 04:04:17  livesey
# Nightly checkin
#
# Revision 1.7  1999/11/24 23:07:20  livesey
# Regular commit
#
# Revision 1.6  1999/11/10 01:52:00  livesey
# Transfer to home
#
# Revision 1.5  1999/11/04 21:59:40  livesey
# Move contents of util to lib and renamed to mlslib.a
#
# Revision 1.4  1999/11/04 03:06:49  livesey
# Got the make stuff working I think
#
@


2.0
log
@Change revision to 2.0
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 1.1 2000/09/02 01:51:18 vsnyder Exp $
d25 1
a25 1
OBJS=	GriddedData.o HDF-EOS.o L1BData.o L2AUXData.o L2GPData.o  \
d66 3
d117 3
@


1.1
log
@Initial entry
@
text
@d1 1
a1 1
# $Id: Makefile.inc,v 1.1 2000/09/02 01:51:18 vsnyder Exp $
d114 3
@


