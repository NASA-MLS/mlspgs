head	2.6;
access;
symbols
	v5-02-NRT-19:2.6
	v6-00:2.6
	v5-02-NRT-18:2.6
	v5-02:2.6
	v5-01-NRT-17:2.6
	v5-01-NRT-16:2.6
	v5-01-NRT-15:2.6
	v5-01-NRT-14:2.6
	neuralnetworks-1-0:2.6.0.10
	cfm-single-freq-0-1:2.6.0.8
	v5-01:2.6
	v5-00:2.6
	v4-23-TA133:2.6.0.6
	mus-emls-1-70:2.6.0.4
	rel-1-0-englocks-work:2.6.0.2
	VUMLS1-00:2.6
	VPL1-00:2.6
	V4-22-NRT-08:2.5
	VAM1-00:2.5
	V4-21:2.5.0.2
	V4-13:2.4
	V4-12:2.4
	V4-11:2.4
	V4-10:2.4
	M4-00:2.3
	V3-33:2.2;
locks; strict;
comment	@# @;


2.6
date	2016.07.28.01.42.27;	author vsnyder;	state Exp;
branches;
next	2.5;

2.5
date	2015.02.05.21.38.48;	author vsnyder;	state Exp;
branches;
next	2.4;

2.4
date	2013.06.19.23.13.44;	author pwagner;	state Exp;
branches;
next	2.3;

2.3
date	2012.06.22.20.25.18;	author pwagner;	state Exp;
branches;
next	2.2;

2.2
date	2011.07.26.20.54.05;	author pwagner;	state Exp;
branches;
next	2.1;

2.1
date	2011.07.15.23.16.38;	author pwagner;	state Exp;
branches;
next	;


desc
@@


2.6
log
@Refactoring dump and diff
@
text
@! Copyright 2011, by the California Institute of Technology. ALL
! RIGHTS RESERVED. United States Government Sponsorship acknowledged. Any
! commercial use must be negotiated with the Office of Technology Transfer
! at the California Institute of Technology.

! This software may be subject to U.S. export control laws. By accepting this
! software, the user agrees to comply with all applicable U.S. export laws and
! regulations. User has the responsibility to obtain export licenses, or other
! export authority as may be required before exporting such information to
! foreign countries or providing access to foreign persons.

! $Id: dump4d.f9h,v 2.5 2015/02/05 21:38:48 vsnyder Exp $

! subroutine DUMP_4D_DOUBLE ( ARRAY, NAME, &                 
!   & FILLVALUE, WIDTH, FORMAT, LBOUND, OPTIONS )            
!   double precision, intent(in) :: ARRAY(:,:,:,:)             
!   character(len=*), intent(in), optional :: NAME           
!   double precision, intent(in), optional :: FILLVALUE      
!   integer, intent(in), optional :: WIDTH                   
!   character(len=*), intent(in), optional :: FORMAT         
!   integer, intent(in), optional :: LBOUND                  
!   character(len=*), intent(in), optional :: options        
!   integer :: I, J, K, L                                    
!   integer :: NumZeroRows                                   
!   double precision :: myFillValue                          
!   character(len=64) :: myFormat                            
!   integer :: nUnique                                       
!   integer, dimension(MAXNUMELEMENTS) :: counts             
!   double precision, dimension(MAXNUMELEMENTS) :: elements  
    ! Executable
    call theDumpBegins ( options )
    myRank = 4
    if ( dopts(unique)%v ) then
      call FindUnique( reshape( array, (/ product(shape(array)) /) ), &
        & elements, nUnique, counts )
      if ( nUnique < 2 ) then
        call output( 'Every value is ', advance='no' )
        call output( elements(1), advance='yes' )
      else
        call output( '    value             counts', advance='yes' )
        do j=1, nUnique
          call output( j , advance='no' )
          call blanks( 3 )
          call output( elements(j) , advance='no' )
          call blanks( 3 )
          call output( counts(j), advance='yes' )
        enddo
      endif
      if ( uniqueonly ( options ) ) return
    end if
    if ( all(shape(array) > 1 ) ) &
      & call output( '(Most optional features unavailable for 4d arrays)', &
      & advance='yes' )
    ! include 'dumpstats.f9h'

    myFormat = sdFormatDefault
    if ( present(format) ) myFormat = format
    if ( index(myFormat, '*') > 0 ) myFormat = numNeedsFormat( maxval(abs(array)), format )

!    include 'dump4Db.f9h'
! end subroutine DUMP_4D_DOUBLE
! $Log: dump4d.f9h,v $
! Revision 2.5  2015/02/05 21:38:48  vsnyder
! Correct MyRank=4 instead of MyRank=3
!
! Revision 2.4  2013/06/19 23:13:44  pwagner
! Remove more unused stuff
!
! Revision 2.3  2012/06/22 20:25:18  pwagner
! Specify advance arg because we may now set default to 'yes'
!
! Revision 2.2  2011/07/26 20:54:05  pwagner
! Print warning about unavailable features only if dumping wholearray
!
! Revision 2.1  2011/07/15 23:16:38  pwagner
! First commit
!
@


2.5
log
@Correct MyRank=4 instead of MyRank=3
@
text
@d12 1
a12 1
! $Id: dump4d.f9h,v 2.4 2013/06/19 23:13:44 pwagner Exp $
d33 1
a33 1
    if ( myUnique ) then
d63 3
@


2.4
log
@Remove more unused stuff
@
text
@d12 1
a12 1
! $Id: dump4d.f9h,v 2.3 2012/06/22 20:25:18 pwagner Exp $
d32 1
a32 1
    myRank = 3
d50 1
a50 1
    endif
d63 3
@


2.3
log
@Specify advance arg because we may now set default to 'yes'
@
text
@d12 1
a12 1
! $Id: dump4d.f9h,v 2.2 2011/07/26 20:54:05 pwagner Exp $
a32 4
    myFillValue = 0.d0
    if ( present(FillValue) ) myFillValue=FillValue
    MyWidth = 5
    if ( present(width) ) MyWidth = width
d63 3
@


2.2
log
@Print warning about unavailable features only if dumping wholearray
@
text
@d12 1
a12 1
! $Id: dump4d.f9h,v 2.1 2011/07/15 23:16:38 pwagner Exp $
d46 1
a46 1
          call output( j )
d48 1
a48 1
          call output( elements(j) )
d67 3
@


2.1
log
@First commit
@
text
@d12 1
a12 1
! $Id: dump4D.f9h,v 2.7 2011/07/12 00:11:29 pwagner Exp $
d55 2
a56 1
    call output( '(Most optional features unavailable for 4d arrays', &
d66 4
a69 1
! $Log: dump1d.f9h,v $
@

