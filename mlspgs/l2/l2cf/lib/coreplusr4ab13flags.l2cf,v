head	1.11;
access;
symbols
	v5-02-NRT-19:1.11
	v6-00:1.11
	v5-02-NRT-18:1.11
	v5-02:1.11
	v5-01-NRT-17:1.11
	v5-01-NRT-16:1.11
	v5-01-NRT-15:1.11
	v5-01-NRT-14:1.11
	neuralnetworks-1-0:1.11.0.14
	cfm-single-freq-0-1:1.11.0.12
	v5-01:1.11
	v5-00:1.11
	v4-23-TA133:1.11.0.10
	mus-emls-1-70:1.11.0.8
	rel-1-0-englocks-work:1.11.0.6
	VUMLS1-00:1.11
	VPL1-00:1.11
	V4-22-NRT-08:1.11
	VAM1-00:1.11
	V4-21:1.11.0.4
	V4-13:1.11
	V4-12:1.11
	V4-11:1.11
	V4-10:1.11
	V3-43:1.11
	M4-00:1.11
	V3-41:1.11
	V3-40-PlusGM57:1.11.0.2
	V2-24-NRT-04:1.10
	V3-33:1.11
	V2-24:1.10
	V3-31:1.11
	V3-30-NRT-05:1.11
	cfm-01-00:1.11
	V3-30:1.11
	V3-20:1.11
	V3-10:1.10
	V2-23-NRT-02:1.10
	V2-23:1.10
	V2-22-NRT-01:1.10
	V2-22:1.10
	V2-21:1.10
	V2-20:1.10
	V2-11:1.1
	V2-10:1.1;
locks; strict;
comment	@# @;


1.11
date	2010.02.10.00.40.10;	author pwagner;	state Exp;
branches;
next	1.10;

1.10
date	2006.11.01.23.39.06;	author dwu;	state Exp;
branches;
next	1.9;

1.9
date	2006.11.01.20.52.40;	author dwu;	state Exp;
branches;
next	1.8;

1.8
date	2006.11.01.20.24.19;	author pwagner;	state Exp;
branches;
next	1.7;

1.7
date	2006.11.01.19.12.29;	author pwagner;	state Exp;
branches;
next	1.6;

1.6
date	2006.11.01.18.43.59;	author dwu;	state Exp;
branches;
next	1.5;

1.5
date	2006.11.01.18.41.29;	author dwu;	state Exp;
branches;
next	1.4;

1.4
date	2006.10.11.23.04.55;	author pwagner;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.04.16.51.47;	author pwagner;	state Exp;
branches;
next	1.2;

1.2
date	2006.08.08.22.27.07;	author pwagner;	state Exp;
branches;
next	1.1;

1.1
date	2006.07.28.18.48.13;	author dwu;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Removed Temperature, GPH from this phase
@
text
@!divert(-1)
; $Id: coreplusr4ab13flags.l2cf,v 1.10 2006/11/01 23:39:06 dwu Exp $

; ----------- Phase name vs. retrieval name
; Some phase(s) may not have Retrieve sections
; and so we'll need to know the last one
!define(retrophase,{!phase})

!divert!dnl
; This l2cf fragment does all the quality flagging for the Core+R4
; products.

begin Fill

  ;; ------------------------------------ HCl-640
  !define(flaggingBands,{13,14})
  !define(flaggingRadiometers,{R4})!dnl
  !makeQualityForOneProduct(product=HCl,chisqScale=1.0,minRads=1000,cloudMax=10K,cloudMin= -10K)
  !makeStatusForOneProduct(product=HCl,chisqScale=1.0,minRads=1000,cloudMax=10K,cloudMin= -10K)

  ;; ------------------------------------ O3-640
  !define(flaggingBands,{13,14,30,31})
  !define(flaggingRadiometers,{R4})!dnl
  !makeQualityForOneProduct(product=O3,chisqScale=1.0,minRads=2000,cloudMax=10K,cloudMin= -10K)
  !makeStatusForOneProduct(product=O3,chisqScale=1.0,minRads=2000,cloudMax=10K,cloudMin= -10K)

  ;; ------------------------------------ SO2-640
  !define(flaggingBands,{13,14})
  !define(flaggingRadiometers,{R4})!dnl
  !makeQualityForOneProduct(product=SO2,chisqScale=1.0,minRads=200,cloudMax=10K,cloudMin= -10K)
  !makeStatusForOneProduct(product=SO2,chisqScale=1.0,minRads=200,cloudMax=10K,cloudMin= -10K)

end Fill

; $Log: coreplusr4ab13flags.l2cf,v $
; Revision 1.10  2006/11/01 23:39:06  dwu
; undo the changes since yesterday
;
; Revision 1.9  2006/11/01 20:52:40  dwu
; compute r4 status based on R1 cloud flags
;
; Revision 1.8  2006/11/01 20:24:19  pwagner
; Comments more accurately reflect T, GPH swath names
;
; Revision 1.7  2006/11/01 19:12:29  pwagner
; Removed R3 as flagging radiometer
;
; Revision 1.6  2006/11/01 18:43:59  dwu
; change r4 cloud flag thresholds, correction for T and GPH
;
; Revision 1.5  2006/11/01 18:41:29  dwu
; change r4 cloud flag thresholds
;
; Revision 1.4  2006/10/11 23:04:55  pwagner
; Special retrieval phase name retrophase needed for Convergence Ratio Fill
;
; Revision 1.3  2006/10/04 16:51:47  pwagner
; Compatible w/ status bits from multiple radiometers; needs review
;
; Revision 1.2  2006/08/08 22:27:07  pwagner
; Fills Quality, Status for Temperature, GPH; needs revision before v2.20
;
; Revision 1.1  2006/07/28 18:48:13  dwu
; *** empty log message ***
@


1.10
log
@undo the changes since yesterday
@
text
@d2 1
a2 1
; $Id: coreplusr4ab13flags.l2cf,v 1.9 2006/11/01 20:52:40 dwu Exp $
a32 12
  ;; ------------------------------------- Temperature-CorePlusR4AB13
  !define(flaggingBands,{1})
  !define(flaggingRadiometers,{R1A,R1B})!dnl
  !makeQualityForOneProduct(product=Temperature,chisqScale=1.0,minRads=800,cloudMax=30K,cloudMin= -4K)
  !makeStatusForOneProduct(product=Temperature,chisqScale=1.0,minRads=800,cloudMax=30K,cloudMin= -4K)

  ;; ------------------------------------- GPH-CorePlusR4AB13
  !define(flaggingBands,{1})
  !define(flaggingRadiometers,{R1A,R1B})!dnl
  !makeQualityForOneProduct(product=GPH,chisqScale=1.0,minRads=800,cloudMax=30K,cloudMin= -4K)
  !makeStatusForOneProduct(product=GPH,chisqScale=1.0,minRads=800,cloudMax=30K,cloudMin= -4K)

d36 3
@


1.9
log
@compute r4 status based on R1 cloud flags
@
text
@d2 1
a2 1
; $Id: coreplusr4ab13flags.l2cf,v 1.8 2006/11/01 20:24:19 pwagner Exp $
d15 1
a15 1
  ;; ------------------------------------ HCl-640-B13
d17 3
a19 3
  !define(flaggingRadiometers,{R1A,R1B})!dnl
  !makeQualityForOneProduct(product=HCl,chisqScale=1.0,minRads=1000,cloudMax=30K,cloudMin= -4K)
  !makeStatusForOneProduct(product=HCl,chisqScale=1.0,minRads=1000,cloudMax=30K,cloudMin= -4K)
d21 1
a21 1
  ;; ------------------------------------ O3-640-B13
d23 3
a25 3
  !define(flaggingRadiometers,{R1A,R1B})!dnl
  !makeQualityForOneProduct(product=O3,chisqScale=1.0,minRads=2000,cloudMax=30K,cloudMin= -4K)
  !makeStatusForOneProduct(product=O3,chisqScale=1.0,minRads=2000,cloudMax=30K,cloudMin= -4K)
d27 1
a27 1
  ;; ------------------------------------ SO2-640-B13
d29 3
a31 3
  !define(flaggingRadiometers,{R1A,R1B})!dnl
  !makeQualityForOneProduct(product=SO2,chisqScale=1.0,minRads=200,cloudMax=30K,cloudMin= -4K)
  !makeStatusForOneProduct(product=SO2,chisqScale=1.0,minRads=200,cloudMax=30K,cloudMin= -4K)
d48 3
@


1.8
log
@Comments more accurately reflect T, GPH swath names
@
text
@d2 1
a2 1
; $Id: coreplusr4ab13flags.l2cf,v 1.7 2006/11/01 19:12:29 pwagner Exp $
d17 3
a19 3
  !define(flaggingRadiometers,{R4})!dnl
  !makeQualityForOneProduct(product=HCl,chisqScale=1.0,minRads=1000,cloudMax=999K,cloudMin= -999K)
  !makeStatusForOneProduct(product=HCl,chisqScale=1.0,minRads=1000,cloudMax=999K,cloudMin= -999K)
d23 3
a25 3
  !define(flaggingRadiometers,{R4})!dnl
  !makeQualityForOneProduct(product=O3,chisqScale=1.0,minRads=2000,cloudMax=999K,cloudMin= -999K)
  !makeStatusForOneProduct(product=O3,chisqScale=1.0,minRads=2000,cloudMax=999K,cloudMin= -999K)
d29 3
a31 3
  !define(flaggingRadiometers,{R4})!dnl
  !makeQualityForOneProduct(product=SO2,chisqScale=1.0,minRads=200,cloudMax=999K,cloudMin= -999K)
  !makeStatusForOneProduct(product=SO2,chisqScale=1.0,minRads=200,cloudMax=999K,cloudMin= -999K)
d48 3
@


1.7
log
@Removed R3 as flagging radiometer
@
text
@d2 1
a2 1
; $Id: coreplusr4ab13flags.l2cf,v 1.6 2006/11/01 18:43:59 dwu Exp $
d33 1
a33 1
  ;; ------------------------------------- Temperature-640-B13
d39 1
a39 1
  ;; ------------------------------------- GPH-640-B13
d48 3
@


1.6
log
@change r4 cloud flag thresholds, correction for T and GPH
@
text
@d2 1
a2 1
; $Id: coreplusr4ab13flags.l2cf,v 1.5 2006/11/01 18:41:29 dwu Exp $
d15 1
a15 1
  ;; ------------------------------------ HCl-640
d21 1
a21 1
  ;; ------------------------------------ O3-640
d27 1
a27 1
  ;; ------------------------------------ SO2-640
d33 1
a33 1
  ;; ------------------------------------- Temperature-640
d35 1
a35 1
  !define(flaggingRadiometers,{R1A,R1B,R3})!dnl
d39 1
a39 1
  ;; ------------------------------------- GPH-640
d41 1
a41 1
  !define(flaggingRadiometers,{R1A,R1B,R3})!dnl
d48 3
@


1.5
log
@change r4 cloud flag thresholds
@
text
@d2 1
a2 1
; $Id: coreplusr4ab13flags.l2cf,v 1.4 2006/10/11 23:04:55 pwagner Exp $
d36 2
a37 2
  !makeQualityForOneProduct(product=Temperature,chisqScale=1.0,minRads=800,cloudMax=999K,cloudMin= -999K)
  !makeStatusForOneProduct(product=Temperature,chisqScale=1.0,minRads=800,cloudMax=999K,cloudMin= -999K)
d42 2
a43 2
  !makeQualityForOneProduct(product=GPH,chisqScale=1.0,minRads=800,cloudMax=999K,cloudMin= -999K)
  !makeStatusForOneProduct(product=GPH,chisqScale=1.0,minRads=800,cloudMax=999K,cloudMin= -999K)
d48 3
@


1.4
log
@Special retrieval phase name retrophase needed for Convergence Ratio Fill
@
text
@d2 1
a2 1
; $Id: coreplusr4ab13flags.l2cf,v 1.3 2006/10/04 16:51:47 pwagner Exp $
d18 2
a19 2
  !makeQualityForOneProduct(product=HCl,chisqScale=1.0,minRads=1000,cloudMax=10K,cloudMin= -10K)
  !makeStatusForOneProduct(product=HCl,chisqScale=1.0,minRads=1000,cloudMax=10K,cloudMin= -10K)
d24 2
a25 2
  !makeQualityForOneProduct(product=O3,chisqScale=1.0,minRads=2000,cloudMax=10K,cloudMin= -10K)
  !makeStatusForOneProduct(product=O3,chisqScale=1.0,minRads=2000,cloudMax=10K,cloudMin= -10K)
d30 2
a31 2
  !makeQualityForOneProduct(product=SO2,chisqScale=1.0,minRads=200,cloudMax=10K,cloudMin= -10K)
  !makeStatusForOneProduct(product=SO2,chisqScale=1.0,minRads=200,cloudMax=10K,cloudMin= -10K)
d36 2
a37 2
  !makeQualityForOneProduct(product=Temperature,chisqScale=1.0,minRads=800,cloudMax=5K,cloudMin= -10K)
  !makeStatusForOneProduct(product=Temperature,chisqScale=1.0,minRads=800,cloudMax=5K,cloudMin= -10K)
d42 2
a43 2
  !makeQualityForOneProduct(product=GPH,chisqScale=1.0,minRads=800,cloudMax=5K,cloudMin= -10K)
  !makeStatusForOneProduct(product=GPH,chisqScale=1.0,minRads=800,cloudMax=5K,cloudMin= -10K)
d48 3
@


1.3
log
@Compatible w/ status bits from multiple radiometers; needs review
@
text
@d1 2
a2 1
; $Id: coreplusr4ab13flags.l2cf,v 1.2 2006/08/08 22:27:07 pwagner Exp $
d4 6
d48 3
@


1.2
log
@Fills Quality, Status for Temperature, GPH; needs revision before v2.20
@
text
@d1 1
a1 1
; $Id: coreplusr4ab13flags.l2cf,v 1.1 2006/07/28 18:48:13 dwu Exp $
d10 3
a12 1
  !makeFlagsForOneProduct(product=HCl,radiometer=R4,chisqScale=1.0,minRads=1000,cloudMax=10K,cloudMin= -10K)
d16 3
a18 1
  !makeFlagsForOneProduct(product=O3,radiometer=R4,chisqScale=1.0,minRads=2000,cloudMax=10K,cloudMin= -10K)
d22 3
a24 1
  !makeFlagsForOneProduct(product=SO2,radiometer=R4,chisqScale=1.0,minRads=200,cloudMax=10K,cloudMin= -10K)
d28 3
a30 1
  !makeFlagsForOneProduct(product=Temperature,radiometer=R1A,chisqScale=1.0,minRads=800,cloudMax=5K,cloudMin= -10K)
d34 3
a36 1
  !makeFlagsForOneProduct(product=GPH,radiometer=R1A,chisqScale=1.0,minRads=800,cloudMax=5K,cloudMin= -10K)
d41 3
@


1.1
log
@*** empty log message ***
@
text
@d1 1
a1 1
; $Id: coreplusr4flags.l2cf,v 1.9 2006/07/26 21:13:54 dwu Exp $
d20 8
d30 3
a32 28
; $Log: coreplusr4flags.l2cf,v $
; Revision 1.9  2006/07/26 21:13:54  dwu
; modified for v2.0 clouds
;
; Revision 1.8  2004/09/21 23:02:59  livesey
; Changed chiSqWeights to 1.0 for everything.
;
; Revision 1.7  2004/05/04 01:05:46  livesey
; Added flags for CH3CN-640 and HNO3-640.
;
; Revision 1.6  2004/04/28 23:06:50  livesey
; Changes to cloud flags.
;
; Revision 1.5  2004/04/28 00:32:11  livesey
; Bug fix
;
; Revision 1.4  2004/04/27 23:50:38  livesey
; Added low cloud flagging for temperature/GPH
;
; Revision 1.3  2004/04/27 23:46:26  livesey
; Added GPH
;
; Revision 1.2  2004/04/17 05:47:37  livesey
; Backed off the number of radiances missing flags
;
; Revision 1.1  2004/04/06 01:18:19  livesey
; First version
;
@

