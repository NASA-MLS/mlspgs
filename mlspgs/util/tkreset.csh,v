head	1.3;
access;
symbols
	v5-02-NRT-19:1.3
	v6-00:1.3
	v5-02-NRT-18:1.3
	v5-02:1.3
	v5-01-NRT-17:1.3
	v5-01-NRT-16:1.3
	v5-01-NRT-15:1.3
	v5-01-NRT-14:1.3
	neuralnetworks-1-0:1.3.0.14
	cfm-single-freq-0-1:1.3.0.12
	v5-01:1.3
	v5-00:1.3
	v4-23-TA133:1.3.0.10
	mus-emls-1-70:1.3.0.8
	rel-1-0-englocks-work:1.3.0.6
	VUMLS1-00:1.3
	VPL1-00:1.3
	V4-22-NRT-08:1.3
	VAM1-00:1.3
	V4-21:1.3.0.4
	V4-13:1.3
	V4-12:1.3
	V4-11:1.3
	V4-10:1.3
	V3-43:1.3
	M4-00:1.3
	V3-41:1.3
	V3-40-PlusGM57:1.3.0.2
	V2-24-NRT-04:1.3
	V3-33:1.3
	V2-24:1.3
	V3-31:1.3
	V3-30-NRT-05:1.3
	cfm-01-00:1.3
	V3-30:1.3
	V3-20:1.3
	V3-10:1.3
	V2-23-NRT-02:1.3
	V2-23:1.3
	V2-22-NRT-01:1.3
	V2-22:1.3
	V2-21:1.3
	V2-20:1.3
	V2-11:1.3
	V2-10:1.3
	V2-00:1.3
	V1-51:1.2
	V1-50:1.2
	V1-45:1.2
	V1-44:1.2
	V1-43:1.2
	V1-42:1.2
	V1-41:1.2
	V1-32:1.2
	V1-40:1.2
	V1-31:1.2
	V1-30:1.2;
locks; strict;
comment	@# @;


1.3
date	2005.06.23.22.21.11;	author pwagner;	state Exp;
branches;
next	1.2;

1.2
date	2003.05.08.20.09.07;	author pwagner;	state Exp;
branches;
next	1.1;

1.1
date	2003.05.06.20.40.52;	author pwagner;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Reworded Copyright statement
@
text
@#!/bin/csh
# tkreset.csh
# Usage:
# (1)
# source tkreset.csh path/to/new/tk/pgs-env.csh
# This will replace previous toolkit-related paths
# with those specified by the file path/to/new/tk/pgs-env.csh
# or else
# (2)
# source tkreset.csh
# This will remove previous toolkit-related paths
# It also snips duplicate paths
! Copyright 2005, by the California Institute of Technology. ALL
! RIGHTS RESERVED. United States Government Sponsorship acknowledged. Any
! commercial use must be negotiated with the Office of Technology Transfer
! at the California Institute of Technology.

! This software may be subject to U.S. export control laws. By accepting this
! software, the user agrees to comply with all applicable U.S. export laws and
! regulations. User has the responsibility to obtain export licenses, or other
! export authority as may be required before exporting such information to
! foreign countries or providing access to foreign persons.

# "$Id: tkreset.csh,v 1.2 2003/05/08 20:09:07 pwagner Exp $"
if ("$?PGSHOME" == 0) then
  # No previous toolkit paths
  echo "No previous PGSHOME defined"
  if (-e "$1") then
     source $1
  endif
  echo "new count for path is $#path"
  echo "new path is $path"
  echo "new PGSHOME is $PGSHOME"
else
  set oldpath = ('' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '')
  set count = 0
  if ($#path > 21) then
    echo "path too long to reset toolkit portion; sorry"
    exit 1
  endif
  foreach arg ($path[*])
    @@ count++
    set oldpath[$count] = $path[$count]
  end
  # Now, if usage (1), will need to learn old, new PGSHOME values
  set oldhome = "$PGSHOME"
  set usage = 2
  if (-e "$1") then
       source $1
       set usage = 1
  endif
  # 
  set oldcount = 0
  set newcount = 0
  setenv PATH ""
  # echo "usage is $usage"
  # echo "count is $count"
  # echo "Looping over $oldpath[1-$count]"
  foreach arg ($oldpath[1-$count])
    # echo "arg is $arg"
    set repl = ""
    set repeat = ""
    set match = `echo $arg | /bin/grep "$oldhome"`
    # echo "match is $match"
    # Check for duplicates among 1st oldcount-1
    if ($oldcount > 0) then
      foreach oldarg ($oldpath[1-$oldcount])
        if ($arg == $oldarg) then
          set repeat = "yes"
        endif
      end
    endif
    #
    @@ oldcount++
    if ($repeat == "yes") then
      echo "Snipping duplicate path $arg"
    else if ($usage == 2) then
      # Usage (2)
      if ("$match" == "") then
        @@ newcount++
        if ("$newcount" == 1) then
          setenv PATH "$arg"
        else
          setenv PATH "${PATH}:$arg"
        endif
      endif
    else
      # Usage (1)
      @@ newcount++
      if ("$match" == "") then
        # echo "newcount is $newcount"
        if ("$newcount" == 1) then
          setenv PATH "$arg"
        else
          setenv PATH "${PATH}:$arg"
        endif
      else
        set repl = `echo $arg | /bin/sed "s^$oldhome^$PGSHOME^"`
        if ("$newcount" == 1) then
          setenv PATH "$repl"
        else
          setenv PATH "${PATH}:$repl"
        endif
      endif
    endif
  end
  # echo "new count for path is $newcount"
  echo "new path is $path"
  # echo "with count $#path"
  if ($usage == 2) then
    unset PGSHOME
  else
    echo "new PGSHOME is $PGSHOME"
  endif
  # housekeeping (because we will source this script)
  unset arg
  unset count
  unset newcount
  unset oldcount
  unset match
  unset usage
  unset repl 
  unset repeat 
  unset oldhome
  unset oldpath
endif
# $Log: tkreset.csh,v $
# Revision 1.2  2003/05/08 20:09:07  pwagner
# Removed exit commands where possible
#
# Revision 1.1  2003/05/06 20:40:52  pwagner
# First commit
#
@


1.2
log
@Removed exit commands where possible
@
text
@d13 4
a16 2
# Copyright (c) 2003, California Institute of Technology.  ALL RIGHTS RESERVED.
# U.S. Government Sponsorship under NASA Contract NAS7-1407 is acknowledged.
d18 7
a24 1
# "$Id: tkreset.csh,v 1.1 2003/05/06 20:40:52 pwagner Exp $"
d128 3
@


1.1
log
@First commit
@
text
@d16 1
a16 1
# "$Id: mlsconfigure,v 1.35 2003/04/25 22:58:33 pwagner Exp $"
d26 17
a42 40
  exit 0
endif

set oldpath = ('' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '' '')
set count = 0
if ($#path > 21) then
  echo "path too long to reset toolkit portion; sorry"
  exit 1
endif
foreach arg ($path[*])
  @@ count++
  set oldpath[$count] = $path[$count]
end
# Now, if usage (1), will need to learn old, new PGSHOME values
set oldhome = "$PGSHOME"
set usage = 2
if (-e "$1") then
     source $1
     set usage = 1
endif
# 
set oldcount = 0
set newcount = 0
setenv PATH ""
# echo "usage is $usage"
# echo "count is $count"
# echo "Looping over $oldpath[1-$count]"
foreach arg ($oldpath[1-$count])
  # echo "arg is $arg"
  set repl = ""
  set repeat = ""
  set match = `echo $arg | /bin/grep "$oldhome"`
  # echo "match is $match"
  # Check for duplicates among 1st oldcount-1
  if ($oldcount > 0) then
    foreach oldarg ($oldpath[1-$oldcount])
      if ($arg == $oldarg) then
        set repeat = "yes"
      endif
    end
d44 20
a63 13
  #
  @@ oldcount++
  if ($repeat == "yes") then
    echo "Snipping duplicate path $arg"
  else if ($usage == 2) then
    # Usage (2)
    if ("$match" == "") then
      @@ newcount++
      if ("$newcount" == 1) then
        setenv PATH "$arg"
      else
        setenv PATH "${PATH}:$arg"
      endif
d65 13
a77 9
  else
    # Usage (1)
    @@ newcount++
    if ("$match" == "") then
      # echo "newcount is $newcount"
      if ("$newcount" == 1) then
        setenv PATH "$arg"
      else
        setenv PATH "${PATH}:$arg"
d80 9
a88 3
      set repl = `echo $arg | /bin/sed "s^$oldhome^$PGSHOME^"`
      if ("$newcount" == 1) then
        setenv PATH "$repl"
d90 6
a95 1
        setenv PATH "${PATH}:$repl"
d98 8
d107 11
a117 8
end
# echo "new count for path is $newcount"
echo "new path is $path"
# echo "with count $#path"
if ($usage == 2) then
  unset PGSHOME
else
  echo "new PGSHOME is $PGSHOME"
d119 4
a122 13
# housekeeping (because we will source this script)
unset arg
unset count
unset newcount
unset oldcount
unset match
unset usage
unset repl 
unset repeat 
unset oldhome
unset oldpath
exit 0
# $Log: mlsconfigure,v $
@

