head	1.3;
access;
symbols
	v5-02-NRT-19:1.3
	v6-00:1.3
	v5-02-NRT-18:1.3
	v5-02:1.3
	v5-01-NRT-17:1.3
	v5-01-NRT-16:1.3
	v5-01-NRT-15:1.3
	v5-01-NRT-14:1.3
	neuralnetworks-1-0:1.3.0.12
	cfm-single-freq-0-1:1.3.0.10
	v5-01:1.3
	v5-00:1.3
	v4-23-TA133:1.3.0.8
	mus-emls-1-70:1.3.0.6
	rel-1-0-englocks-work:1.3.0.4
	VUMLS1-00:1.3
	VPL1-00:1.3
	V4-22-NRT-08:1.3
	VAM1-00:1.3
	V4-21:1.3.0.2
	V4-13:1.3
	V4-12:1.3
	V4-11:1.3
	V4-10:1.3
	M4-00:1.3
	V3-33:1.3;
locks; strict;
comment	@# @;


1.3
date	2011.10.04.15.27.24;	author honghanh;	state Exp;
branches;
next	1.2;

1.2
date	2011.10.03.15.37.01;	author honghanh;	state Exp;
branches;
next	1.1;

1.1
date	2011.09.07.06.33.35;	author honghanh;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Fix bug to not retrieve values for absent blocks
@
text
@pro icfm_unpack_matrixblock, block
    ;; matrix block kind
    m_absent = 0
    m_banded = 1
    m_column_sparse = 2
    m_full = 3
    m_unknown = 4

    flags = pvm_unpack_quantity()
    kind = flags[0]
    nrows = flags[1]
    ncols = flags[2]

    if kind ne m_absent and kind ne m_full then begin
        MyMessage, /error, "Matrix block is neither absent nor full."
    endif
    if kind eq m_absent then begin
        kind = 'A'
    endif else if kind eq m_full then begin
        kind = 'F'
    endif

    if kind eq 'F' then begin
        values = pvm_unpack_quantity()
        block = {kind: kind, values: values}
    endif else block = {kind: kind}
end
@


1.2
log
@Fix an IDL if-else syntax bug
@
text
@d23 4
a26 3
    values = pvm_unpack_quantity()

    block = {kind: kind, values: values}
@


1.1
log
@Add 3 more procedures to receive matrix
Add 'stacked' concept to createquantity, and icfm_sendquantity
and related procedures.
@
text
@d17 5
a21 2
    if kind eq m_absent then kind = 'A'
    if kind eq m_full then kind = 'F'
@

