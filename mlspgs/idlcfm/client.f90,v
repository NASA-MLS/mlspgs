head	1.2;
access;
symbols
	v5-02-NRT-19:1.2
	v6-00:1.2
	v5-02-NRT-18:1.2
	v5-02:1.2
	v5-01-NRT-17:1.2
	v5-01-NRT-16:1.2
	v5-01-NRT-15:1.2
	v5-01-NRT-14:1.2
	neuralnetworks-1-0:1.2.0.12
	cfm-single-freq-0-1:1.2.0.10
	v5-01:1.2
	v5-00:1.2
	v4-23-TA133:1.2.0.8
	mus-emls-1-70:1.2.0.6
	rel-1-0-englocks-work:1.2.0.4
	VUMLS1-00:1.2
	VPL1-00:1.2
	V4-22-NRT-08:1.2
	VAM1-00:1.2
	V4-21:1.2.0.2
	V4-13:1.2
	V4-12:1.2
	V4-11:1.2
	V4-10:1.2
	M4-00:1.2
	V3-33:1.2;
locks; strict;
comment	@# @;


1.2
date	2012.01.09.22.36.33;	author pwagner;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.15.15.23.50;	author honghanh;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Workaround for ifc 12 bug
@
text
@program client
   use PVM
   use CFM
   use CFM, only: QUANTITYTEMPLATE_T
   use machine, only: getarg
   use MLSStrings, only: ReadIntsFromChars

   implicit none

!---------------------------- RCS Ident Info ------------------------------
   character (len=*), parameter :: ModuleName= &
       "$RCSfile: client.f90,v $"
   character (len=*), parameter :: IdParm = &
       "$Id: client.f90,v 1.1 2011/03/15 15:23:50 honghanh Exp $"
   character (len=len(idParm)) :: Id = idParm
!---------------------------------------------------------------------------

   integer :: tid, info, bufid, msgtag
   integer :: server
   character(len=10) :: input

   call PVMFMyTid(tid)

   if (tid <= 0) &
      call MLSMessage (MLSMSG_Error, moduleName, &
         "Can't contact PVM daemon")
   print *, "Client starts with tid ", tid

   call getarg(1, input)
   call ReadIntsFromChars (trim(input), server)

   print *, "server is ", server

   if (server <= 0) &
      call MLSMessage (MLSMSG_Error, moduleName, &
         "Invalid server TID")

   call PVMFInitSend(PVMDataDefault, bufid)
   if (bufid < 0) &
      call MLSMessage(MLSMSG_Error, moduleName, &
         "Can't create send buffer")

   call PVMF90Pack(1, info)
   if (info < 0) &
      call MLSMessage(MLSMSG_Error, moduleName, &
         "Can't pack signal")
   call PVMF90Pack('hello', info)
   if (info < 0) &
      call MLSMessage(MLSMSG_Error, moduleName, &
         "Can't pack signal")

   call PVMFSend(server, msgtag, info)
   if (info /= 0) &
      call MLSMessage (MLSMSG_Error, moduleName, &
         "Can't send signal to server")

   call PVMFExit(tid, info)

end program client

! $Log: client.f90,v $
! Revision 1.1  2011/03/15 15:23:50  honghanh
! Initial imports
!
@


1.1
log
@Initial imports
@
text
@d4 1
d14 1
a14 1
       "$Id: client.f90,v 1.39 2010/08/06 14:15:06 honghanh Exp $"
d62 3
@

