head	1.3;
access;
symbols
	v5-02-NRT-19:1.3
	v6-00:1.3
	v5-02-NRT-18:1.3
	v5-02:1.3
	v5-01-NRT-17:1.3
	v5-01-NRT-16:1.3
	v5-01-NRT-15:1.3
	v5-01-NRT-14:1.3
	neuralnetworks-1-0:1.3.0.14
	cfm-single-freq-0-1:1.3.0.12
	v5-01:1.3
	v5-00:1.3
	v4-23-TA133:1.3.0.10
	mus-emls-1-70:1.3.0.8
	rel-1-0-englocks-work:1.3.0.6
	VUMLS1-00:1.3
	VPL1-00:1.3
	V4-22-NRT-08:1.3
	VAM1-00:1.3
	V4-21:1.3.0.4
	V4-13:1.3
	V4-12:1.3
	V4-11:1.3
	V4-10:1.3
	V3-43:1.3
	M4-00:1.3
	V3-41:1.3
	V3-40-PlusGM57:1.3.0.2
	V2-24-NRT-04:1.3
	V3-33:1.3
	V2-24:1.3
	V3-31:1.3
	V3-30-NRT-05:1.3
	cfm-01-00:1.3
	V3-30:1.3
	V3-20:1.3
	V3-10:1.3
	V2-23-NRT-02:1.3
	V2-23:1.3
	V2-22-NRT-01:1.3
	V2-22:1.3
	V2-21:1.3
	V2-20:1.3
	V2-11:1.3
	V2-10:1.3
	V2-00:1.2
	V1-51:1.1
	V1-50:1.1;
locks; strict;
comment	@# @;


1.3
date	2006.07.29.00.16.44;	author pwagner;	state Exp;
branches;
next	1.2;

1.2
date	2005.04.13.21.47.28;	author pwagner;	state Exp;
branches;
next	1.1;

1.1
date	2004.09.10.20.28.12;	author pwagner;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Exploits new doDump option
@
text
@program testRMS
   use DUMP_0, only: DUMP
   use MLSMessageModule, only: MLSMessageConfig
   use MLSStats1, only: STAT_T, &
     & ALLSTATS, DUMPSTAT=>DUMP, MLSMIN, MLSMAX, MLSMEAN, MLSSTDDEV, MLSRMS, STATISTICS
   use output_m, only: blanks, newline, output
  implicit none
  integer, parameter :: N=10
  real, dimension(N, N) :: array
  real :: min, max, mean, stddev, rms
  double precision, dimension(N, N) :: dblarray
  double precision :: dblmin, dblmax, dblmean, dblstddev, dblrms, eta
  type(STAT_T) :: statistic
  double precision, parameter :: X1 = -1.d0
  double precision, parameter :: X2 = 1.d0
  integer, parameter :: NCELLS = 12
  integer :: cell, status
  double precision, dimension(NCELLS-2) :: d1darray
  ! 
  MLSMessageConfig%useToolkit = .false.
  MLSMessageConfig%logFileUnit = -1
  array = 1.
  call dump ( array, &
    & 'all ones', stats=.true., rms=.true. )
  call allstats(array, max=max, min=min, mean=mean, stddev=stddev, rms=rms, doDump=.true.)
  call dumpstats(max, min, mean, stddev, rms)
  array(:,1:5) = 0.
  call dump ( array, &
    & 'half ones', stats=.true., rms=.true. )
  call allstats(array, max=max, min=min, mean=mean, stddev=stddev, rms=rms, doDump=.true.)
  call dumpstats(max, min, mean, stddev, rms)
  array(:,1:5) = -1.
  call dump ( array, &
    & 'half +/-', stats=.true., rms=.true. )
  call allstats(array, max=max, min=min, mean=mean, stddev=stddev, rms=rms, doDump=.true.)
  call dumpstats(max, min, mean, stddev, rms)
  array(:,6:10) = -999.99
  call dump ( array, &
    & 'half +/-', stats=.true., rms=.true., fillValue=-999.99 )
  call allstats(array, max=max, min=min, mean=mean, stddev=stddev, rms=rms, &
    & fillValue=-999.99, doDump=.true.)
  call dumpstats(max, min, mean, stddev, rms)
  dblarray = array
  dblarray(:,6:10) = -999.99d0
  call dump ( real(dblarray), &
    & 'half +/-', stats=.true., rms=.true., fillValue=-999.99 )
  call allstats(dblarray, max=dblmax, min=dblmin, mean=dblmean, &
    & stddev=dblstddev, rms=dblrms, fillValue=-999.99d0, doDump=.true.)
  call dumpstats(real(dblmax), real(dblmin), real(dblmean), real(dblstddev), &
    & real(dblrms))
  call output('mlsmin: ')
  call output(mlsmin(dblarray, fillValue=-999.99d0), advance='yes')
  call output('mlsmax: ')
  call output(mlsmax(dblarray, fillValue=-999.99d0), advance='yes')
  call output('mlsmean: ')
  call output(mlsmean(dblarray, fillValue=-999.99d0), advance='yes')
  call output('mlsstddev: ')
  call output(mlsstddev(dblarray, fillValue=-999.99d0), advance='yes')
  call output('mlsrms: ')
  call output(mlsrms(dblarray, fillValue=-999.99d0), advance='yes')
  ! Now let's do it all with user-defined type
  statistic%nbins = NCELLS
  allocate(statistic%bincount(NCELLS), stat=status)
  statistic%bounds = (/X1, X2/)
  do cell=1, NCELLS-2
    eta = (cell - 0.5)/ (NCELLS-2)
    d1darray(cell) = eta*X2 + (1-eta)*X1
    call statistics(d1darray(cell:cell), statistic)
  enddo
  call dumpstat(statistic)
  call statistics(d1darray, statistic)
  call dumpstat(statistic)
  do cell=1, NCELLS-2
    call statistics(d1darray, statistic)
  enddo
  call dumpstat(statistic)
contains
  subroutine dumpstats(max, min, mean, stddev, rms)
    ! dump the statistics
    ! Args
    real, intent(in)  :: max
    real, intent(in)  :: min
    real, intent(in)  :: mean
    real, intent(in)  :: stddev
    real, intent(in)  :: rms
    ! Executable
    call output('max: ')
    call output(max)
    call blanks(4)
    call output('min: ')
    call output(min)
    call blanks(4)
    call output('mean: ')
    call output(mean)
    call newline
    call output('stddev: ')
    call output(stddev)
    call blanks(4)
    call output('rms: ')
    call output(rms)
    call newline
  end subroutine dumpstats
end program testRMS
@


1.2
log
@Added 'array-array2' test
@
text
@a9 1
  real, dimension(N, N) :: array2
d25 1
a25 1
  call allstats(array, max=max, min=min, mean=mean, stddev=stddev, rms=rms)
d30 1
a30 1
  call allstats(array, max=max, min=min, mean=mean, stddev=stddev, rms=rms)
d35 1
a35 1
  call allstats(array, max=max, min=min, mean=mean, stddev=stddev, rms=rms)
d41 1
a41 1
    & fillValue=-999.99)
a42 9

  array = 1.
  array2(:,1:5) = 1./2
  array2(:,6:) = -1./2
  call dump ( array-array2, &
    & '1/2,3/2', stats=.true., rms=.true. )
  call allstats(array-array2, max=max, min=min, mean=mean, stddev=stddev, rms=rms)
  call dumpstats(max, min, mean, stddev, rms)

d48 1
a48 1
    & stddev=dblstddev, rms=dblrms, fillValue=-999.99d0)
@


1.1
log
@First commit
@
text
@d10 1
d44 9
@

